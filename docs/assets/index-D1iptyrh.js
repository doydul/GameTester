(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Ua={exports:{}},Ri={},Ba={exports:{}},ee={};var qh;function T_(){if(qh)return ee;qh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=C&&E[C]||E["@@iterator"],typeof E=="function"?E:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function K(E,T,J){this.props=E,this.context=T,this.refs=H,this.updater=J||L}K.prototype.isReactComponent={},K.prototype.setState=function(E,T){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,T,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Oe(){}Oe.prototype=K.prototype;function We(E,T,J){this.props=E,this.context=T,this.refs=H,this.updater=J||L}var He=We.prototype=new Oe;He.constructor=We,O(He,K.prototype),He.isPureReactComponent=!0;var xe=Array.isArray,mt=Object.prototype.hasOwnProperty,Ve={current:null},Ke={key:!0,ref:!0,__self:!0,__source:!0};function tt(E,T,J){var Z,q={},ie=null,oe=null;if(T!=null)for(Z in T.ref!==void 0&&(oe=T.ref),T.key!==void 0&&(ie=""+T.key),T)mt.call(T,Z)&&!Ke.hasOwnProperty(Z)&&(q[Z]=T[Z]);var X=arguments.length-2;if(X===1)q.children=J;else if(1<X){for(var ve=Array(X),vt=0;vt<X;vt++)ve[vt]=arguments[vt+2];q.children=ve}if(E&&E.defaultProps)for(Z in X=E.defaultProps,X)q[Z]===void 0&&(q[Z]=X[Z]);return{$$typeof:i,type:E,key:ie,ref:oe,props:q,_owner:Ve.current}}function Ht(E,T){return{$$typeof:i,type:E.type,key:T,ref:E.ref,props:E.props,_owner:E._owner}}function Pt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function qt(E){var T={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return T[J]})}var gt=/\/+/g;function Ie(E,T){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):T.toString(36)}function st(E,T,J,Z,q){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var oe=!1;if(E===null)oe=!0;else switch(ie){case"string":case"number":oe=!0;break;case"object":switch(E.$$typeof){case i:case t:oe=!0}}if(oe)return oe=E,q=q(oe),E=Z===""?"."+Ie(oe,0):Z,xe(q)?(J="",E!=null&&(J=E.replace(gt,"$&/")+"/"),st(q,T,J,"",function(vt){return vt})):q!=null&&(Pt(q)&&(q=Ht(q,J+(!q.key||oe&&oe.key===q.key?"":(""+q.key).replace(gt,"$&/")+"/")+E)),T.push(q)),1;if(oe=0,Z=Z===""?".":Z+":",xe(E))for(var X=0;X<E.length;X++){ie=E[X];var ve=Z+Ie(ie,X);oe+=st(ie,T,J,ve,q)}else if(ve=x(E),typeof ve=="function")for(E=ve.call(E),X=0;!(ie=E.next()).done;)ie=ie.value,ve=Z+Ie(ie,X++),oe+=st(ie,T,J,ve,q);else if(ie==="object")throw T=String(E),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return oe}function _t(E,T,J){if(E==null)return E;var Z=[],q=0;return st(E,Z,"","",function(ie){return T.call(J,ie,q++)}),Z}function $e(E){if(E._status===-1){var T=E._result;T=T(),T.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=T)}if(E._status===1)return E._result.default;throw E._result}var pe={current:null},F={transition:null},G={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:F,ReactCurrentOwner:Ve};function z(){throw Error("act(...) is not supported in production builds of React.")}return ee.Children={map:_t,forEach:function(E,T,J){_t(E,function(){T.apply(this,arguments)},J)},count:function(E){var T=0;return _t(E,function(){T++}),T},toArray:function(E){return _t(E,function(T){return T})||[]},only:function(E){if(!Pt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ee.Component=K,ee.Fragment=r,ee.Profiler=a,ee.PureComponent=We,ee.StrictMode=o,ee.Suspense=m,ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ee.act=z,ee.cloneElement=function(E,T,J){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var Z=O({},E.props),q=E.key,ie=E.ref,oe=E._owner;if(T!=null){if(T.ref!==void 0&&(ie=T.ref,oe=Ve.current),T.key!==void 0&&(q=""+T.key),E.type&&E.type.defaultProps)var X=E.type.defaultProps;for(ve in T)mt.call(T,ve)&&!Ke.hasOwnProperty(ve)&&(Z[ve]=T[ve]===void 0&&X!==void 0?X[ve]:T[ve])}var ve=arguments.length-2;if(ve===1)Z.children=J;else if(1<ve){X=Array(ve);for(var vt=0;vt<ve;vt++)X[vt]=arguments[vt+2];Z.children=X}return{$$typeof:i,type:E.type,key:q,ref:ie,props:Z,_owner:oe}},ee.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},ee.createElement=tt,ee.createFactory=function(E){var T=tt.bind(null,E);return T.type=E,T},ee.createRef=function(){return{current:null}},ee.forwardRef=function(E){return{$$typeof:p,render:E}},ee.isValidElement=Pt,ee.lazy=function(E){return{$$typeof:S,_payload:{_status:-1,_result:E},_init:$e}},ee.memo=function(E,T){return{$$typeof:g,type:E,compare:T===void 0?null:T}},ee.startTransition=function(E){var T=F.transition;F.transition={};try{E()}finally{F.transition=T}},ee.unstable_act=z,ee.useCallback=function(E,T){return pe.current.useCallback(E,T)},ee.useContext=function(E){return pe.current.useContext(E)},ee.useDebugValue=function(){},ee.useDeferredValue=function(E){return pe.current.useDeferredValue(E)},ee.useEffect=function(E,T){return pe.current.useEffect(E,T)},ee.useId=function(){return pe.current.useId()},ee.useImperativeHandle=function(E,T,J){return pe.current.useImperativeHandle(E,T,J)},ee.useInsertionEffect=function(E,T){return pe.current.useInsertionEffect(E,T)},ee.useLayoutEffect=function(E,T){return pe.current.useLayoutEffect(E,T)},ee.useMemo=function(E,T){return pe.current.useMemo(E,T)},ee.useReducer=function(E,T,J){return pe.current.useReducer(E,T,J)},ee.useRef=function(E){return pe.current.useRef(E)},ee.useState=function(E){return pe.current.useState(E)},ee.useSyncExternalStore=function(E,T,J){return pe.current.useSyncExternalStore(E,T,J)},ee.useTransition=function(){return pe.current.useTransition()},ee.version="18.3.1",ee}var Xh;function Eu(){return Xh||(Xh=1,Ba.exports=T_()),Ba.exports}var Jh;function R_(){if(Jh)return Ri;Jh=1;var i=Eu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,g){var S,C={},x=null,L=null;g!==void 0&&(x=""+g),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(L=m.ref);for(S in m)o.call(m,S)&&!c.hasOwnProperty(S)&&(C[S]=m[S]);if(p&&p.defaultProps)for(S in m=p.defaultProps,m)C[S]===void 0&&(C[S]=m[S]);return{$$typeof:t,type:p,key:x,ref:L,props:C,_owner:a.current}}return Ri.Fragment=r,Ri.jsx=h,Ri.jsxs=h,Ri}var Zh;function P_(){return Zh||(Zh=1,Ua.exports=R_()),Ua.exports}var y=P_(),Rt=Eu(),po={},Wa={exports:{}},dt={},Ha={exports:{}},Va={};var ef;function D_(){return ef||(ef=1,(function(i){function t(F,G){var z=F.length;F.push(G);e:for(;0<z;){var E=z-1>>>1,T=F[E];if(0<a(T,G))F[E]=G,F[z]=T,z=E;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var G=F[0],z=F.pop();if(z!==G){F[0]=z;e:for(var E=0,T=F.length,J=T>>>1;E<J;){var Z=2*(E+1)-1,q=F[Z],ie=Z+1,oe=F[ie];if(0>a(q,z))ie<T&&0>a(oe,q)?(F[E]=oe,F[ie]=z,E=ie):(F[E]=q,F[Z]=z,E=Z);else if(ie<T&&0>a(oe,z))F[E]=oe,F[ie]=z,E=ie;else break e}}return G}function a(F,G){var z=F.sortIndex-G.sortIndex;return z!==0?z:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var m=[],g=[],S=1,C=null,x=3,L=!1,O=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,We=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function He(F){for(var G=r(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=F)o(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=r(g)}}function xe(F){if(H=!1,He(F),!O)if(r(m)!==null)O=!0,$e(mt);else{var G=r(g);G!==null&&pe(xe,G.startTime-F)}}function mt(F,G){O=!1,H&&(H=!1,Oe(tt),tt=-1),L=!0;var z=x;try{for(He(G),C=r(m);C!==null&&(!(C.expirationTime>G)||F&&!qt());){var E=C.callback;if(typeof E=="function"){C.callback=null,x=C.priorityLevel;var T=E(C.expirationTime<=G);G=i.unstable_now(),typeof T=="function"?C.callback=T:C===r(m)&&o(m),He(G)}else o(m);C=r(m)}if(C!==null)var J=!0;else{var Z=r(g);Z!==null&&pe(xe,Z.startTime-G),J=!1}return J}finally{C=null,x=z,L=!1}}var Ve=!1,Ke=null,tt=-1,Ht=5,Pt=-1;function qt(){return!(i.unstable_now()-Pt<Ht)}function gt(){if(Ke!==null){var F=i.unstable_now();Pt=F;var G=!0;try{G=Ke(!0,F)}finally{G?Ie():(Ve=!1,Ke=null)}}else Ve=!1}var Ie;if(typeof We=="function")Ie=function(){We(gt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,_t=st.port2;st.port1.onmessage=gt,Ie=function(){_t.postMessage(null)}}else Ie=function(){K(gt,0)};function $e(F){Ke=F,Ve||(Ve=!0,Ie())}function pe(F,G){tt=K(function(){F(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){O||L||(O=!0,$e(mt))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ht=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(F){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var z=x;x=G;try{return F()}finally{x=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=x;x=F;try{return G()}finally{x=z}},i.unstable_scheduleCallback=function(F,G,z){var E=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=z+T,F={id:S++,callback:G,priorityLevel:F,startTime:z,expirationTime:T,sortIndex:-1},z>E?(F.sortIndex=z,t(g,F),r(m)===null&&F===r(g)&&(H?(Oe(tt),tt=-1):H=!0,pe(xe,z-E))):(F.sortIndex=T,t(m,F),O||L||(O=!0,$e(mt))),F},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function(F){var G=x;return function(){var z=x;x=G;try{return F.apply(this,arguments)}finally{x=z}}}})(Va)),Va}var tf;function A_(){return tf||(tf=1,Ha.exports=D_()),Ha.exports}var nf;function M_(){if(nf)return dt;nf=1;var i=Eu(),t=A_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){h(e,n),h(e+"Capture",n)}function h(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},C={};function x(e){return m.call(C,e)?!0:m.call(S,e)?!1:g.test(e)?C[e]=!0:(S[e]=!0,!1)}function L(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,l){if(n===null||typeof n>"u"||L(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,u,d,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=f}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oe=/[\-:]([a-z])/g;function We(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Oe,We);K[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Oe,We);K[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Oe,We);K[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function He(e,n,s,l){var u=K.hasOwnProperty(n)?K[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,u,l)&&(s=null),l||u===null?x(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mt=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),Ke=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Ht=Symbol.for("react.profiler"),Pt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,E;function T(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var J=!1;function Z(e,n){if(!e||J)return"";J=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),d=l.stack.split(`
`),f=u.length-1,_=d.length-1;1<=f&&0<=_&&u[f]!==d[_];)_--;for(;1<=f&&0<=_;f--,_--)if(u[f]!==d[_]){if(f!==1||_!==1)do if(f--,_--,0>_||u[f]!==d[_]){var v=`
`+u[f].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=f&&0<=_);break}}}finally{J=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?T(e):""}function q(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ke:return"Fragment";case Ve:return"Portal";case Ht:return"Profiler";case tt:return"StrictMode";case Ie:return"Suspense";case st:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Pt:return(e._context.displayName||"Context")+".Provider";case gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _t:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case $e:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}function oe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(n);case 8:return n===tt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vt(e){var n=ve(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(f){l=""+f,d.call(this,f)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(f){l=""+f},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rs(e){e._valueTracker||(e._valueTracker=vt(e))}function nc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ve(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qo(e,n){var s=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function rc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=X(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ic(e,n){n=n.checked,n!=null&&He(e,"checked",n,!1)}function Yo(e,n){ic(e,n);var s=X(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ko(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ko(e,n.type,X(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function sc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ko(e,n,s){(n!=="number"||is(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Vr=Array.isArray;function sr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+X(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function qo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Vr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:X(s)}}function lc(e,n){var s=X(n.value),l=X(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function ac(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?uc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,cc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function $r(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){Am.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Gr[n]=Gr[e]})});function dc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+n).trim():n+"px"}function hc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=dc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Mm=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(e,n){if(n){if(Mm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Zo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var el=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,or=null,lr=null;function fc(e){if(e=pi(e)){if(typeof nl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ts(n),nl(e.stateNode,e.type,n))}}function pc(e){or?lr?lr.push(e):lr=[e]:or=e}function mc(){if(or){var e=or,n=lr;if(lr=or=null,fc(e),n)for(e=0;e<n.length;e++)fc(n[e])}}function gc(e,n){return e(n)}function _c(){}var rl=!1;function vc(e,n,s){if(rl)return e(n,s);rl=!0;try{return gc(e,n,s)}finally{rl=!1,(or!==null||lr!==null)&&(_c(),mc())}}function Qr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ts(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var il=!1;if(p)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){il=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{il=!1}function Om(e,n,s,l,u,d,f,_,v){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(P){this.onError(P)}}var Kr=!1,os=null,ls=!1,sl=null,Lm={onError:function(e){Kr=!0,os=e}};function Fm(e,n,s,l,u,d,f,_,v){Kr=!1,os=null,Om.apply(Lm,arguments)}function jm(e,n,s,l,u,d,f,_,v){if(Fm.apply(this,arguments),Kr){if(Kr){var I=os;Kr=!1,os=null}else throw Error(r(198));ls||(ls=!0,sl=I)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function yc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function wc(e){if(zn(e)!==e)throw Error(r(188))}function zm(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return wc(u),e;if(d===l)return wc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var f=!1,_=u.child;_;){if(_===s){f=!0,s=u,l=d;break}if(_===l){f=!0,l=u,s=d;break}_=_.sibling}if(!f){for(_=d.child;_;){if(_===s){f=!0,s=d,l=u;break}if(_===l){f=!0,l=d,s=u;break}_=_.sibling}if(!f)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Cc(e){return e=zm(e),e!==null?Ec(e):null}function Ec(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ec(e);if(n!==null)return n;e=e.sibling}return null}var Sc=t.unstable_scheduleCallback,kc=t.unstable_cancelCallback,bm=t.unstable_shouldYield,Um=t.unstable_requestPaint,ke=t.unstable_now,Bm=t.unstable_getCurrentPriorityLevel,ol=t.unstable_ImmediatePriority,Nc=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,Wm=t.unstable_LowPriority,xc=t.unstable_IdlePriority,us=null,Vt=null;function Hm(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(us,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Gm,Vm=Math.log,$m=Math.LN2;function Gm(e){return e>>>=0,e===0?32:31-(Vm(e)/$m|0)|0}var cs=64,ds=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,f=s&268435455;if(f!==0){var _=f&~u;_!==0?l=qr(_):(d&=f,d!==0&&(l=qr(d)))}else f=s&~u,f!==0?l=qr(f):d!==0&&(l=qr(d));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Dt(n),u=1<<s,l|=e[s],n&=~u;return l}function Qm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var f=31-Dt(d),_=1<<f,v=u[f];v===-1?((_&s)===0||(_&l)!==0)&&(u[f]=Qm(_,n)):v<=n&&(e.expiredLanes|=_),d&=~_}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ic(){var e=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),e}function al(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Xr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Dt(n),e[n]=s}function Km(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Dt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function ul(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Dt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ue=0;function Tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Rc,cl,Pc,Dc,Ac,dl=!1,fs=[],hn=null,fn=null,pn=null,Jr=new Map,Zr=new Map,mn=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mc(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Jr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(n.pointerId)}}function ei(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=pi(n),n!==null&&cl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Xm(e,n,s,l,u){switch(n){case"focusin":return hn=ei(hn,e,n,s,l,u),!0;case"dragenter":return fn=ei(fn,e,n,s,l,u),!0;case"mouseover":return pn=ei(pn,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Jr.set(d,ei(Jr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Zr.set(d,ei(Zr.get(d)||null,e,n,s,l,u)),!0}return!1}function Oc(e){var n=bn(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=yc(s),n!==null){e.blockedOn=n,Ac(e.priority,function(){Pc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=fl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);el=l,s.target.dispatchEvent(l),el=null}else return n=pi(s),n!==null&&cl(n),e.blockedOn=s,!1;n.shift()}return!0}function Lc(e,n,s){ps(e)&&s.delete(n)}function Jm(){dl=!1,hn!==null&&ps(hn)&&(hn=null),fn!==null&&ps(fn)&&(fn=null),pn!==null&&ps(pn)&&(pn=null),Jr.forEach(Lc),Zr.forEach(Lc)}function ti(e,n){e.blockedOn===n&&(e.blockedOn=null,dl||(dl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jm)))}function ni(e){function n(u){return ti(u,e)}if(0<fs.length){ti(fs[0],e);for(var s=1;s<fs.length;s++){var l=fs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hn!==null&&ti(hn,e),fn!==null&&ti(fn,e),pn!==null&&ti(pn,e),Jr.forEach(n),Zr.forEach(n),s=0;s<mn.length;s++)l=mn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<mn.length&&(s=mn[0],s.blockedOn===null);)Oc(s),s.blockedOn===null&&mn.shift()}var ar=xe.ReactCurrentBatchConfig,ms=!0;function Zm(e,n,s,l){var u=ue,d=ar.transition;ar.transition=null;try{ue=1,hl(e,n,s,l)}finally{ue=u,ar.transition=d}}function eg(e,n,s,l){var u=ue,d=ar.transition;ar.transition=null;try{ue=4,hl(e,n,s,l)}finally{ue=u,ar.transition=d}}function hl(e,n,s,l){if(ms){var u=fl(e,n,s,l);if(u===null)Pl(e,n,l,gs,s),Mc(e,l);else if(Xm(u,e,n,s,l))l.stopPropagation();else if(Mc(e,l),n&4&&-1<qm.indexOf(e)){for(;u!==null;){var d=pi(u);if(d!==null&&Rc(d),d=fl(e,n,s,l),d===null&&Pl(e,n,l,gs,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Pl(e,n,l,null,s)}}var gs=null;function fl(e,n,s,l){if(gs=null,e=tl(l),e=bn(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=yc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return gs=e,null}function Fc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case ol:return 1;case Nc:return 4;case as:case Wm:return 16;case xc:return 536870912;default:return 16}default:return 16}}var gn=null,pl=null,_s=null;function jc(){if(_s)return _s;var e,n=pl,s=n.length,l,u="value"in gn?gn.value:gn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var f=s-e;for(l=1;l<=f&&n[s-l]===u[d-l];l++);return _s=u.slice(e,1<l?1-l:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function zc(){return!1}function yt(e){function n(s,l,u,d,f){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ys:zc,this.isPropagationStopped=zc,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),n}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=yt(ur),ri=z({},ur,{view:0,detail:0}),tg=yt(ri),gl,_l,ii,ws=z({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(gl=e.screenX-ii.screenX,_l=e.screenY-ii.screenY):_l=gl=0,ii=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),bc=yt(ws),ng=z({},ws,{dataTransfer:0}),rg=yt(ng),ig=z({},ri,{relatedTarget:0}),vl=yt(ig),sg=z({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),og=yt(sg),lg=z({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=yt(lg),ug=z({},ur,{data:0}),Uc=yt(ug),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hg[e])?!!n[e]:!1}function yl(){return fg}var pg=z({},ri,{key:function(e){if(e.key){var n=cg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mg=yt(pg),gg=z({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=yt(gg),_g=z({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),vg=yt(_g),yg=z({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=yt(yg),Cg=z({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eg=yt(Cg),Sg=[9,13,27,32],wl=p&&"CompositionEvent"in window,si=null;p&&"documentMode"in document&&(si=document.documentMode);var kg=p&&"TextEvent"in window&&!si,Wc=p&&(!wl||si&&8<si&&11>=si),Hc=" ",Vc=!1;function $c(e,n){switch(e){case"keyup":return Sg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function Ng(e,n){switch(e){case"compositionend":return Gc(n);case"keypress":return n.which!==32?null:(Vc=!0,Hc);case"textInput":return e=n.data,e===Hc&&Vc?null:e;default:return null}}function xg(e,n){if(cr)return e==="compositionend"||!wl&&$c(e,n)?(e=jc(),_s=pl=gn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wc&&n.locale!=="ko"?null:n.data;default:return null}}var Ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ig[e.type]:n==="textarea"}function Yc(e,n,s,l){pc(l),n=Ns(n,"onChange"),0<n.length&&(s=new ml("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var oi=null,li=null;function Tg(e){hd(e,0)}function Cs(e){var n=mr(e);if(nc(n))return e}function Rg(e,n){if(e==="change")return n}var Kc=!1;if(p){var Cl;if(p){var El="oninput"in document;if(!El){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),El=typeof qc.oninput=="function"}Cl=El}else Cl=!1;Kc=Cl&&(!document.documentMode||9<document.documentMode)}function Xc(){oi&&(oi.detachEvent("onpropertychange",Jc),li=oi=null)}function Jc(e){if(e.propertyName==="value"&&Cs(li)){var n=[];Yc(n,li,e,tl(e)),vc(Tg,n)}}function Pg(e,n,s){e==="focusin"?(Xc(),oi=n,li=s,oi.attachEvent("onpropertychange",Jc)):e==="focusout"&&Xc()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cs(li)}function Ag(e,n){if(e==="click")return Cs(n)}function Mg(e,n){if(e==="input"||e==="change")return Cs(n)}function Og(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:Og;function ai(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!At(e[u],n[u]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,n){var s=Zc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zc(s)}}function td(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?td(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function nd(){for(var e=window,n=is();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=is(e.document)}return n}function Sl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Lg(e){var n=nd(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&td(s.ownerDocument.documentElement,s)){if(l!==null&&Sl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=ed(s,d);var f=ed(s,l);u&&f&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=p&&"documentMode"in document&&11>=document.documentMode,dr=null,kl=null,ui=null,Nl=!1;function rd(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nl||dr==null||dr!==is(l)||(l=dr,"selectionStart"in l&&Sl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ui&&ai(ui,l)||(ui=l,l=Ns(kl,"onSelect"),0<l.length&&(n=new ml("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=dr)))}function Es(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var hr={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},xl={},id={};p&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Ss(e){if(xl[e])return xl[e];if(!hr[e])return e;var n=hr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in id)return xl[e]=n[s];return e}var sd=Ss("animationend"),od=Ss("animationiteration"),ld=Ss("animationstart"),ad=Ss("transitionend"),ud=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,n){ud.set(e,n),c(n,[e])}for(var Il=0;Il<cd.length;Il++){var Tl=cd[Il],jg=Tl.toLowerCase(),zg=Tl[0].toUpperCase()+Tl.slice(1);_n(jg,"on"+zg)}_n(sd,"onAnimationEnd"),_n(od,"onAnimationIteration"),_n(ld,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(ad,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function dd(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,jm(l,n,void 0,e),e.currentTarget=null}function hd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var f=l.length-1;0<=f;f--){var _=l[f],v=_.instance,I=_.currentTarget;if(_=_.listener,v!==d&&u.isPropagationStopped())break e;dd(u,_,I),d=v}else for(f=0;f<l.length;f++){if(_=l[f],v=_.instance,I=_.currentTarget,_=_.listener,v!==d&&u.isPropagationStopped())break e;dd(u,_,I),d=v}}}if(ls)throw e=sl,ls=!1,sl=null,e}function me(e,n){var s=n[Fl];s===void 0&&(s=n[Fl]=new Set);var l=e+"__bubble";s.has(l)||(fd(n,e,2,!1),s.add(l))}function Rl(e,n,s){var l=0;n&&(l|=4),fd(s,e,l,n)}var ks="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[ks]){e[ks]=!0,o.forEach(function(s){s!=="selectionchange"&&(bg.has(s)||Rl(s,!1,e),Rl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ks]||(n[ks]=!0,Rl("selectionchange",!1,n))}}function fd(e,n,s,l){switch(Fc(n)){case 1:var u=Zm;break;case 4:u=eg;break;default:u=hl}s=u.bind(null,n,s,e),u=void 0,!il||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Pl(e,n,s,l,u){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(f===4)for(f=l.return;f!==null;){var v=f.tag;if((v===3||v===4)&&(v=f.stateNode.containerInfo,v===u||v.nodeType===8&&v.parentNode===u))return;f=f.return}for(;_!==null;){if(f=bn(_),f===null)return;if(v=f.tag,v===5||v===6){l=d=f;continue e}_=_.parentNode}}l=l.return}vc(function(){var I=d,P=tl(s),D=[];e:{var R=ud.get(e);if(R!==void 0){var j=ml,U=e;switch(e){case"keypress":if(vs(s)===0)break e;case"keydown":case"keyup":j=mg;break;case"focusin":U="focus",j=vl;break;case"focusout":U="blur",j=vl;break;case"beforeblur":case"afterblur":j=vl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=vg;break;case sd:case od:case ld:j=og;break;case ad:j=wg;break;case"scroll":j=tg;break;case"wheel":j=Eg;break;case"copy":case"cut":case"paste":j=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Bc}var B=(n&4)!==0,Ne=!B&&e==="scroll",k=B?R!==null?R+"Capture":null:R;B=[];for(var w=I,N;w!==null;){N=w;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,k!==null&&(A=Qr(w,k),A!=null&&B.push(hi(w,A,N)))),Ne)break;w=w.return}0<B.length&&(R=new j(R,U,null,s,P),D.push({event:R,listeners:B}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",R&&s!==el&&(U=s.relatedTarget||s.fromElement)&&(bn(U)||U[Xt]))break e;if((j||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,j?(U=s.relatedTarget||s.toElement,j=I,U=U?bn(U):null,U!==null&&(Ne=zn(U),U!==Ne||U.tag!==5&&U.tag!==6)&&(U=null)):(j=null,U=I),j!==U)){if(B=bc,A="onMouseLeave",k="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(B=Bc,A="onPointerLeave",k="onPointerEnter",w="pointer"),Ne=j==null?R:mr(j),N=U==null?R:mr(U),R=new B(A,w+"leave",j,s,P),R.target=Ne,R.relatedTarget=N,A=null,bn(P)===I&&(B=new B(k,w+"enter",U,s,P),B.target=N,B.relatedTarget=Ne,A=B),Ne=A,j&&U)t:{for(B=j,k=U,w=0,N=B;N;N=fr(N))w++;for(N=0,A=k;A;A=fr(A))N++;for(;0<w-N;)B=fr(B),w--;for(;0<N-w;)k=fr(k),N--;for(;w--;){if(B===k||k!==null&&B===k.alternate)break t;B=fr(B),k=fr(k)}B=null}else B=null;j!==null&&pd(D,R,j,B,!1),U!==null&&Ne!==null&&pd(D,Ne,U,B,!0)}}e:{if(R=I?mr(I):window,j=R.nodeName&&R.nodeName.toLowerCase(),j==="select"||j==="input"&&R.type==="file")var W=Rg;else if(Qc(R))if(Kc)W=Mg;else{W=Dg;var V=Pg}else(j=R.nodeName)&&j.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(W=Ag);if(W&&(W=W(e,I))){Yc(D,W,s,P);break e}V&&V(e,R,I),e==="focusout"&&(V=R._wrapperState)&&V.controlled&&R.type==="number"&&Ko(R,"number",R.value)}switch(V=I?mr(I):window,e){case"focusin":(Qc(V)||V.contentEditable==="true")&&(dr=V,kl=I,ui=null);break;case"focusout":ui=kl=dr=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,rd(D,s,P);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":rd(D,s,P)}var $;if(wl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else cr?$c(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(Wc&&s.locale!=="ko"&&(cr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&cr&&($=jc()):(gn=P,pl="value"in gn?gn.value:gn.textContent,cr=!0)),V=Ns(I,Y),0<V.length&&(Y=new Uc(Y,e,null,s,P),D.push({event:Y,listeners:V}),$?Y.data=$:($=Gc(s),$!==null&&(Y.data=$)))),($=kg?Ng(e,s):xg(e,s))&&(I=Ns(I,"onBeforeInput"),0<I.length&&(P=new Uc("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:I}),P.data=$))}hd(D,n)})}function hi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ns(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Qr(e,s),d!=null&&l.unshift(hi(e,d,u)),d=Qr(e,n),d!=null&&l.push(hi(e,d,u))),e=e.return}return l}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pd(e,n,s,l,u){for(var d=n._reactName,f=[];s!==null&&s!==l;){var _=s,v=_.alternate,I=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&I!==null&&(_=I,u?(v=Qr(s,d),v!=null&&f.unshift(hi(s,v,_))):u||(v=Qr(s,d),v!=null&&f.push(hi(s,v,_)))),s=s.return}f.length!==0&&e.push({event:n,listeners:f})}var Ug=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function md(e){return(typeof e=="string"?e:""+e).replace(Ug,`
`).replace(Bg,"")}function xs(e,n,s){if(n=md(n),md(e)!==n&&s)throw Error(r(425))}function Is(){}var Dl=null,Al=null;function Ml(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(e){return gd.resolve(null).then(e).catch(Vg)}:Ol;function Vg(e){setTimeout(function(){throw e})}function Ll(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),ni(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);ni(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),$t="__reactFiber$"+pr,fi="__reactProps$"+pr,Xt="__reactContainer$"+pr,Fl="__reactEvents$"+pr,$g="__reactListeners$"+pr,Gg="__reactHandles$"+pr;function bn(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Xt]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=_d(e);e!==null;){if(s=e[$t])return s;e=_d(e)}return n}e=s,s=e.parentNode}return null}function pi(e){return e=e[$t]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ts(e){return e[fi]||null}var jl=[],gr=-1;function yn(e){return{current:e}}function ge(e){0>gr||(e.current=jl[gr],jl[gr]=null,gr--)}function de(e,n){gr++,jl[gr]=e.current,e.current=n}var wn={},qe=yn(wn),ot=yn(!1),Un=wn;function _r(e,n){var s=e.type.contextTypes;if(!s)return wn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function lt(e){return e=e.childContextTypes,e!=null}function Rs(){ge(ot),ge(qe)}function vd(e,n,s){if(qe.current!==wn)throw Error(r(168));de(qe,n),de(ot,s)}function yd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,oe(e)||"Unknown",u));return z({},s,l)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Un=qe.current,de(qe,e),de(ot,ot.current),!0}function wd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=yd(e,n,Un),l.__reactInternalMemoizedMergedChildContext=e,ge(ot),ge(qe),de(qe,e)):ge(ot),de(ot,s)}var Jt=null,Ds=!1,zl=!1;function Cd(e){Jt===null?Jt=[e]:Jt.push(e)}function Qg(e){Ds=!0,Cd(e)}function Cn(){if(!zl&&Jt!==null){zl=!0;var e=0,n=ue;try{var s=Jt;for(ue=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Jt=null,Ds=!1}catch(u){throw Jt!==null&&(Jt=Jt.slice(e+1)),Sc(ol,Cn),u}finally{ue=n,zl=!1}}return null}var vr=[],yr=0,As=null,Ms=0,St=[],kt=0,Bn=null,Zt=1,en="";function Wn(e,n){vr[yr++]=Ms,vr[yr++]=As,As=e,Ms=n}function Ed(e,n,s){St[kt++]=Zt,St[kt++]=en,St[kt++]=Bn,Bn=e;var l=Zt;e=en;var u=32-Dt(l)-1;l&=~(1<<u),s+=1;var d=32-Dt(n)+u;if(30<d){var f=u-u%5;d=(l&(1<<f)-1).toString(32),l>>=f,u-=f,Zt=1<<32-Dt(n)+u|s<<u|l,en=d+e}else Zt=1<<d|s<<u|l,en=e}function bl(e){e.return!==null&&(Wn(e,1),Ed(e,1,0))}function Ul(e){for(;e===As;)As=vr[--yr],vr[yr]=null,Ms=vr[--yr],vr[yr]=null;for(;e===Bn;)Bn=St[--kt],St[kt]=null,en=St[--kt],St[kt]=null,Zt=St[--kt],St[kt]=null}var wt=null,Ct=null,ye=!1,Mt=null;function Sd(e,n){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function kd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,wt=e,Ct=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,wt=e,Ct=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Bn!==null?{id:Zt,overflow:en}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,wt=e,Ct=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if(ye){var n=Ct;if(n){var s=n;if(!kd(e,n)){if(Bl(e))throw Error(r(418));n=vn(s.nextSibling);var l=wt;n&&kd(e,n)?Sd(l,s):(e.flags=e.flags&-4097|2,ye=!1,wt=e)}}else{if(Bl(e))throw Error(r(418));e.flags=e.flags&-4097|2,ye=!1,wt=e}}}function Nd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Os(e){if(e!==wt)return!1;if(!ye)return Nd(e),ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ml(e.type,e.memoizedProps)),n&&(n=Ct)){if(Bl(e))throw xd(),Error(r(418));for(;n;)Sd(e,n),n=vn(n.nextSibling)}if(Nd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Ct=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Ct=null}}else Ct=wt?vn(e.stateNode.nextSibling):null;return!0}function xd(){for(var e=Ct;e;)e=vn(e.nextSibling)}function wr(){Ct=wt=null,ye=!1}function Hl(e){Mt===null?Mt=[e]:Mt.push(e)}var Yg=xe.ReactCurrentBatchConfig;function mi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(f){var _=u.refs;f===null?delete _[d]:_[d]=f},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Ls(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Id(e){var n=e._init;return n(e._payload)}function Td(e){function n(k,w){if(e){var N=k.deletions;N===null?(k.deletions=[w],k.flags|=16):N.push(w)}}function s(k,w){if(!e)return null;for(;w!==null;)n(k,w),w=w.sibling;return null}function l(k,w){for(k=new Map;w!==null;)w.key!==null?k.set(w.key,w):k.set(w.index,w),w=w.sibling;return k}function u(k,w){return k=Rn(k,w),k.index=0,k.sibling=null,k}function d(k,w,N){return k.index=N,e?(N=k.alternate,N!==null?(N=N.index,N<w?(k.flags|=2,w):N):(k.flags|=2,w)):(k.flags|=1048576,w)}function f(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,w,N,A){return w===null||w.tag!==6?(w=Oa(N,k.mode,A),w.return=k,w):(w=u(w,N),w.return=k,w)}function v(k,w,N,A){var W=N.type;return W===Ke?P(k,w,N.props.children,A,N.key):w!==null&&(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===$e&&Id(W)===w.type)?(A=u(w,N.props),A.ref=mi(k,w,N),A.return=k,A):(A=so(N.type,N.key,N.props,null,k.mode,A),A.ref=mi(k,w,N),A.return=k,A)}function I(k,w,N,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=La(N,k.mode,A),w.return=k,w):(w=u(w,N.children||[]),w.return=k,w)}function P(k,w,N,A,W){return w===null||w.tag!==7?(w=qn(N,k.mode,A,W),w.return=k,w):(w=u(w,N),w.return=k,w)}function D(k,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Oa(""+w,k.mode,N),w.return=k,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mt:return N=so(w.type,w.key,w.props,null,k.mode,N),N.ref=mi(k,null,w),N.return=k,N;case Ve:return w=La(w,k.mode,N),w.return=k,w;case $e:var A=w._init;return D(k,A(w._payload),N)}if(Vr(w)||G(w))return w=qn(w,k.mode,N,null),w.return=k,w;Ls(k,w)}return null}function R(k,w,N,A){var W=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return W!==null?null:_(k,w,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mt:return N.key===W?v(k,w,N,A):null;case Ve:return N.key===W?I(k,w,N,A):null;case $e:return W=N._init,R(k,w,W(N._payload),A)}if(Vr(N)||G(N))return W!==null?null:P(k,w,N,A,null);Ls(k,N)}return null}function j(k,w,N,A,W){if(typeof A=="string"&&A!==""||typeof A=="number")return k=k.get(N)||null,_(w,k,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mt:return k=k.get(A.key===null?N:A.key)||null,v(w,k,A,W);case Ve:return k=k.get(A.key===null?N:A.key)||null,I(w,k,A,W);case $e:var V=A._init;return j(k,w,N,V(A._payload),W)}if(Vr(A)||G(A))return k=k.get(N)||null,P(w,k,A,W,null);Ls(w,A)}return null}function U(k,w,N,A){for(var W=null,V=null,$=w,Y=w=0,je=null;$!==null&&Y<N.length;Y++){$.index>Y?(je=$,$=null):je=$.sibling;var le=R(k,$,N[Y],A);if(le===null){$===null&&($=je);break}e&&$&&le.alternate===null&&n(k,$),w=d(le,w,Y),V===null?W=le:V.sibling=le,V=le,$=je}if(Y===N.length)return s(k,$),ye&&Wn(k,Y),W;if($===null){for(;Y<N.length;Y++)$=D(k,N[Y],A),$!==null&&(w=d($,w,Y),V===null?W=$:V.sibling=$,V=$);return ye&&Wn(k,Y),W}for($=l(k,$);Y<N.length;Y++)je=j($,k,Y,N[Y],A),je!==null&&(e&&je.alternate!==null&&$.delete(je.key===null?Y:je.key),w=d(je,w,Y),V===null?W=je:V.sibling=je,V=je);return e&&$.forEach(function(Pn){return n(k,Pn)}),ye&&Wn(k,Y),W}function B(k,w,N,A){var W=G(N);if(typeof W!="function")throw Error(r(150));if(N=W.call(N),N==null)throw Error(r(151));for(var V=W=null,$=w,Y=w=0,je=null,le=N.next();$!==null&&!le.done;Y++,le=N.next()){$.index>Y?(je=$,$=null):je=$.sibling;var Pn=R(k,$,le.value,A);if(Pn===null){$===null&&($=je);break}e&&$&&Pn.alternate===null&&n(k,$),w=d(Pn,w,Y),V===null?W=Pn:V.sibling=Pn,V=Pn,$=je}if(le.done)return s(k,$),ye&&Wn(k,Y),W;if($===null){for(;!le.done;Y++,le=N.next())le=D(k,le.value,A),le!==null&&(w=d(le,w,Y),V===null?W=le:V.sibling=le,V=le);return ye&&Wn(k,Y),W}for($=l(k,$);!le.done;Y++,le=N.next())le=j($,k,Y,le.value,A),le!==null&&(e&&le.alternate!==null&&$.delete(le.key===null?Y:le.key),w=d(le,w,Y),V===null?W=le:V.sibling=le,V=le);return e&&$.forEach(function(I_){return n(k,I_)}),ye&&Wn(k,Y),W}function Ne(k,w,N,A){if(typeof N=="object"&&N!==null&&N.type===Ke&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case mt:e:{for(var W=N.key,V=w;V!==null;){if(V.key===W){if(W=N.type,W===Ke){if(V.tag===7){s(k,V.sibling),w=u(V,N.props.children),w.return=k,k=w;break e}}else if(V.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===$e&&Id(W)===V.type){s(k,V.sibling),w=u(V,N.props),w.ref=mi(k,V,N),w.return=k,k=w;break e}s(k,V);break}else n(k,V);V=V.sibling}N.type===Ke?(w=qn(N.props.children,k.mode,A,N.key),w.return=k,k=w):(A=so(N.type,N.key,N.props,null,k.mode,A),A.ref=mi(k,w,N),A.return=k,k=A)}return f(k);case Ve:e:{for(V=N.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){s(k,w.sibling),w=u(w,N.children||[]),w.return=k,k=w;break e}else{s(k,w);break}else n(k,w);w=w.sibling}w=La(N,k.mode,A),w.return=k,k=w}return f(k);case $e:return V=N._init,Ne(k,w,V(N._payload),A)}if(Vr(N))return U(k,w,N,A);if(G(N))return B(k,w,N,A);Ls(k,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(s(k,w.sibling),w=u(w,N),w.return=k,k=w):(s(k,w),w=Oa(N,k.mode,A),w.return=k,k=w),f(k)):s(k,w)}return Ne}var Cr=Td(!0),Rd=Td(!1),Fs=yn(null),js=null,Er=null,Vl=null;function $l(){Vl=Er=js=null}function Gl(e){var n=Fs.current;ge(Fs),e._currentValue=n}function Ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Sr(e,n){js=e,Vl=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(at=!0),e.firstContext=null)}function Nt(e){var n=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:n,next:null},Er===null){if(js===null)throw Error(r(308));Er=e,js.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return n}var Hn=null;function Yl(e){Hn===null?Hn=[e]:Hn.push(e)}function Pd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Yl(n)):(s.next=u.next,u.next=s),n.interleaved=s,tn(e,l)}function tn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var En=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,tn(e,s)}return u=l.interleaved,u===null?(n.next=n,Yl(l)):(n.next=u.next,u.next=n),l.interleaved=n,tn(e,s)}function zs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}function Ad(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var f={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=f:d=d.next=f,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function bs(e,n,s,l){var u=e.updateQueue;En=!1;var d=u.firstBaseUpdate,f=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,I=v.next;v.next=null,f===null?d=I:f.next=I,f=v;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==f&&(_===null?P.firstBaseUpdate=I:_.next=I,P.lastBaseUpdate=v))}if(d!==null){var D=u.baseState;f=0,P=I=v=null,_=d;do{var R=_.lane,j=_.eventTime;if((l&R)===R){P!==null&&(P=P.next={eventTime:j,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var U=e,B=_;switch(R=n,j=s,B.tag){case 1:if(U=B.payload,typeof U=="function"){D=U.call(j,D,R);break e}D=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,R=typeof U=="function"?U.call(j,D,R):U,R==null)break e;D=z({},D,R);break e;case 2:En=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,R=u.effects,R===null?u.effects=[_]:R.push(_))}else j={eventTime:j,lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(I=P=j,v=D):P=P.next=j,f|=R;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;R=_,_=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);if(P===null&&(v=D),u.baseState=v,u.firstBaseUpdate=I,u.lastBaseUpdate=P,n=u.shared.interleaved,n!==null){u=n;do f|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Gn|=f,e.lanes=f,e.memoizedState=D}}function Md(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var gi={},Gt=yn(gi),_i=yn(gi),vi=yn(gi);function Vn(e){if(e===gi)throw Error(r(174));return e}function ql(e,n){switch(de(vi,n),de(_i,e),de(Gt,gi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xo(n,e)}ge(Gt),de(Gt,n)}function kr(){ge(Gt),ge(_i),ge(vi)}function Od(e){Vn(vi.current);var n=Vn(Gt.current),s=Xo(n,e.type);n!==s&&(de(_i,e),de(Gt,s))}function Xl(e){_i.current===e&&(ge(Gt),ge(_i))}var we=yn(0);function Us(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jl=[];function Zl(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Bs=xe.ReactCurrentDispatcher,ea=xe.ReactCurrentBatchConfig,$n=0,Ce=null,Re=null,Le=null,Ws=!1,yi=!1,wi=0,Kg=0;function Xe(){throw Error(r(321))}function ta(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!At(e[s],n[s]))return!1;return!0}function na(e,n,s,l,u,d){if($n=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Bs.current=e===null||e.memoizedState===null?Zg:e_,e=s(l,u),yi){d=0;do{if(yi=!1,wi=0,25<=d)throw Error(r(301));d+=1,Le=Re=null,n.updateQueue=null,Bs.current=t_,e=s(l,u)}while(yi)}if(Bs.current=$s,n=Re!==null&&Re.next!==null,$n=0,Le=Re=Ce=null,Ws=!1,n)throw Error(r(300));return e}function ra(){var e=wi!==0;return wi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Ce.memoizedState=Le=e:Le=Le.next=e,Le}function xt(){if(Re===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var n=Le===null?Ce.memoizedState:Le.next;if(n!==null)Le=n,Re=e;else{if(e===null)throw Error(r(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?Ce.memoizedState=Le=e:Le=Le.next=e}return Le}function Ci(e,n){return typeof n=="function"?n(e):n}function ia(e){var n=xt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Re,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var f=u.next;u.next=d.next,d.next=f}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var _=f=null,v=null,I=d;do{var P=I.lane;if(($n&P)===P)v!==null&&(v=v.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var D={lane:P,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};v===null?(_=v=D,f=l):v=v.next=D,Ce.lanes|=P,Gn|=P}I=I.next}while(I!==null&&I!==d);v===null?f=l:v.next=_,At(l,n.memoizedState)||(at=!0),n.memoizedState=l,n.baseState=f,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,Ce.lanes|=d,Gn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function sa(e){var n=xt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var f=u=u.next;do d=e(d,f.action),f=f.next;while(f!==u);At(d,n.memoizedState)||(at=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Ld(){}function Fd(e,n){var s=Ce,l=xt(),u=n(),d=!At(l.memoizedState,u);if(d&&(l.memoizedState=u,at=!0),l=l.queue,oa(bd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Le!==null&&Le.memoizedState.tag&1){if(s.flags|=2048,Ei(9,zd.bind(null,s,l,u,n),void 0,null),Fe===null)throw Error(r(349));($n&30)!==0||jd(s,n,u)}return u}function jd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ce.updateQueue,n===null?(n={lastEffect:null,stores:null},Ce.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zd(e,n,s,l){n.value=s,n.getSnapshot=l,Ud(n)&&Bd(e)}function bd(e,n,s){return s(function(){Ud(n)&&Bd(e)})}function Ud(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!At(e,s)}catch{return!0}}function Bd(e){var n=tn(e,1);n!==null&&jt(n,e,1,-1)}function Wd(e){var n=Qt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n.queue=e,e=e.dispatch=Jg.bind(null,Ce,e),[n.memoizedState,e]}function Ei(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Ce.updateQueue,n===null?(n={lastEffect:null,stores:null},Ce.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Hd(){return xt().memoizedState}function Hs(e,n,s,l){var u=Qt();Ce.flags|=e,u.memoizedState=Ei(1|n,s,void 0,l===void 0?null:l)}function Vs(e,n,s,l){var u=xt();l=l===void 0?null:l;var d=void 0;if(Re!==null){var f=Re.memoizedState;if(d=f.destroy,l!==null&&ta(l,f.deps)){u.memoizedState=Ei(n,s,d,l);return}}Ce.flags|=e,u.memoizedState=Ei(1|n,s,d,l)}function Vd(e,n){return Hs(8390656,8,e,n)}function oa(e,n){return Vs(2048,8,e,n)}function $d(e,n){return Vs(4,2,e,n)}function Gd(e,n){return Vs(4,4,e,n)}function Qd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yd(e,n,s){return s=s!=null?s.concat([e]):null,Vs(4,4,Qd.bind(null,n,e),s)}function la(){}function Kd(e,n){var s=xt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ta(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function qd(e,n){var s=xt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ta(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function Xd(e,n,s){return($n&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=s):(At(s,n)||(s=Ic(),Ce.lanes|=s,Gn|=s,e.baseState=!0),n)}function qg(e,n){var s=ue;ue=s!==0&&4>s?s:4,e(!0);var l=ea.transition;ea.transition={};try{e(!1),n()}finally{ue=s,ea.transition=l}}function Jd(){return xt().memoizedState}function Xg(e,n,s){var l=In(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Zd(e))eh(n,s);else if(s=Pd(e,n,s,l),s!==null){var u=rt();jt(s,e,l,u),th(s,n,l)}}function Jg(e,n,s){var l=In(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zd(e))eh(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var f=n.lastRenderedState,_=d(f,s);if(u.hasEagerState=!0,u.eagerState=_,At(_,f)){var v=n.interleaved;v===null?(u.next=u,Yl(n)):(u.next=v.next,v.next=u),n.interleaved=u;return}}catch{}s=Pd(e,n,u,l),s!==null&&(u=rt(),jt(s,e,l,u),th(s,n,l))}}function Zd(e){var n=e.alternate;return e===Ce||n!==null&&n===Ce}function eh(e,n){yi=Ws=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function th(e,n,s){if((s&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}var $s={readContext:Nt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Zg={readContext:Nt,useCallback:function(e,n){return Qt().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:Vd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Hs(4194308,4,Qd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hs(4,2,e,n)},useMemo:function(e,n){var s=Qt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Qt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Xg.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var n=Qt();return e={current:e},n.memoizedState=e},useState:Wd,useDebugValue:la,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Wd(!1),n=e[0];return e=qg.bind(null,e[1]),Qt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Ce,u=Qt();if(ye){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Fe===null)throw Error(r(349));($n&30)!==0||jd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,Vd(bd.bind(null,l,d,e),[e]),l.flags|=2048,Ei(9,zd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Qt(),n=Fe.identifierPrefix;if(ye){var s=en,l=Zt;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=wi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Kg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},e_={readContext:Nt,useCallback:Kd,useContext:Nt,useEffect:oa,useImperativeHandle:Yd,useInsertionEffect:$d,useLayoutEffect:Gd,useMemo:qd,useReducer:ia,useRef:Hd,useState:function(){return ia(Ci)},useDebugValue:la,useDeferredValue:function(e){var n=xt();return Xd(n,Re.memoizedState,e)},useTransition:function(){var e=ia(Ci)[0],n=xt().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Fd,useId:Jd,unstable_isNewReconciler:!1},t_={readContext:Nt,useCallback:Kd,useContext:Nt,useEffect:oa,useImperativeHandle:Yd,useInsertionEffect:$d,useLayoutEffect:Gd,useMemo:qd,useReducer:sa,useRef:Hd,useState:function(){return sa(Ci)},useDebugValue:la,useDeferredValue:function(e){var n=xt();return Re===null?n.memoizedState=e:Xd(n,Re.memoizedState,e)},useTransition:function(){var e=sa(Ci)[0],n=xt().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Fd,useId:Jd,unstable_isNewReconciler:!1};function Ot(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function aa(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:z({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gs={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=rt(),u=In(e),d=nn(l,u);d.payload=n,s!=null&&(d.callback=s),n=Sn(e,d,u),n!==null&&(jt(n,e,u,l),zs(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=rt(),u=In(e),d=nn(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Sn(e,d,u),n!==null&&(jt(n,e,u,l),zs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),l=In(e),u=nn(s,l);u.tag=2,n!=null&&(u.callback=n),n=Sn(e,u,l),n!==null&&(jt(n,e,l,s),zs(n,e,l))}};function nh(e,n,s,l,u,d,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,f):n.prototype&&n.prototype.isPureReactComponent?!ai(s,l)||!ai(u,d):!0}function rh(e,n,s){var l=!1,u=wn,d=n.contextType;return typeof d=="object"&&d!==null?d=Nt(d):(u=lt(n)?Un:qe.current,l=n.contextTypes,d=(l=l!=null)?_r(e,u):wn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Gs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function ih(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Gs.enqueueReplaceState(n,n.state,null)}function ua(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Kl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=Nt(d):(d=lt(n)?Un:qe.current,u.context=_r(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(aa(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Gs.enqueueReplaceState(u,u.state,null),bs(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Nr(e,n){try{var s="",l=n;do s+=q(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function ca(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function da(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function sh(e,n,s){s=nn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Zs||(Zs=!0,xa=l),da(e,n)},s}function oh(e,n,s){s=nn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){da(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){da(e,n),typeof l!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),s}function lh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new n_;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=g_.bind(null,e,n,s),n.then(e,e))}function ah(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function uh(e,n,s,l,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=nn(-1,1),n.tag=2,Sn(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var r_=xe.ReactCurrentOwner,at=!1;function nt(e,n,s,l){n.child=e===null?Rd(n,null,s,l):Cr(n,e.child,s,l)}function ch(e,n,s,l,u){s=s.render;var d=n.ref;return Sr(n,u),l=na(e,n,s,l,d,u),s=ra(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,rn(e,n,u)):(ye&&s&&bl(n),n.flags|=1,nt(e,n,l,u),n.child)}function dh(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Ma(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,hh(e,n,d,l,u)):(e=so(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&u)===0){var f=d.memoizedProps;if(s=s.compare,s=s!==null?s:ai,s(f,l)&&e.ref===n.ref)return rn(e,n,u)}return n.flags|=1,e=Rn(d,l),e.ref=n.ref,e.return=n,n.child=e}function hh(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(ai(d,l)&&e.ref===n.ref)if(at=!1,n.pendingProps=l=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(at=!0);else return n.lanes=e.lanes,rn(e,n,u)}return ha(e,n,s,l,u)}function fh(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Ir,Et),Et|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,de(Ir,Et),Et|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,de(Ir,Et),Et|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,de(Ir,Et),Et|=l;return nt(e,n,u,s),n.child}function ph(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ha(e,n,s,l,u){var d=lt(s)?Un:qe.current;return d=_r(n,d),Sr(n,u),s=na(e,n,s,l,d,u),l=ra(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,rn(e,n,u)):(ye&&l&&bl(n),n.flags|=1,nt(e,n,s,u),n.child)}function mh(e,n,s,l,u){if(lt(s)){var d=!0;Ps(n)}else d=!1;if(Sr(n,u),n.stateNode===null)Ys(e,n),rh(n,s,l),ua(n,s,l,u),l=!0;else if(e===null){var f=n.stateNode,_=n.memoizedProps;f.props=_;var v=f.context,I=s.contextType;typeof I=="object"&&I!==null?I=Nt(I):(I=lt(s)?Un:qe.current,I=_r(n,I));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof f.getSnapshotBeforeUpdate=="function";D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==l||v!==I)&&ih(n,f,l,I),En=!1;var R=n.memoizedState;f.state=R,bs(n,l,f,u),v=n.memoizedState,_!==l||R!==v||ot.current||En?(typeof P=="function"&&(aa(n,s,P,l),v=n.memoizedState),(_=En||nh(n,s,_,l,R,v,I))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),f.props=l,f.state=v,f.context=I,l=_):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Dd(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Ot(n.type,_),f.props=I,D=n.pendingProps,R=f.context,v=s.contextType,typeof v=="object"&&v!==null?v=Nt(v):(v=lt(s)?Un:qe.current,v=_r(n,v));var j=s.getDerivedStateFromProps;(P=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==D||R!==v)&&ih(n,f,l,v),En=!1,R=n.memoizedState,f.state=R,bs(n,l,f,u);var U=n.memoizedState;_!==D||R!==U||ot.current||En?(typeof j=="function"&&(aa(n,s,j,l),U=n.memoizedState),(I=En||nh(n,s,I,l,R,U,v)||!1)?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,U,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,U,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=I):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return fa(e,n,s,l,d,u)}function fa(e,n,s,l,u,d){ph(e,n);var f=(n.flags&128)!==0;if(!l&&!f)return u&&wd(n,s,!1),rn(e,n,d);l=n.stateNode,r_.current=n;var _=f&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&f?(n.child=Cr(n,e.child,null,d),n.child=Cr(n,null,_,d)):nt(e,n,_,d),n.memoizedState=l.state,u&&wd(n,s,!0),n.child}function gh(e){var n=e.stateNode;n.pendingContext?vd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&vd(e,n.context,!1),ql(e,n.containerInfo)}function _h(e,n,s,l,u){return wr(),Hl(u),n.flags|=256,nt(e,n,s,l),n.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function vh(e,n,s){var l=n.pendingProps,u=we.current,d=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),de(we,u&1),e===null)return Wl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(f=l.children,e=l.fallback,d?(l=n.mode,d=n.child,f={mode:"hidden",children:f},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=f):d=oo(f,l,0,null),e=qn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=ma(s),n.memoizedState=pa,e):ga(n,f));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return i_(e,n,f,l,_,u,s);if(d){d=l.fallback,f=n.mode,u=e.child,_=u.sibling;var v={mode:"hidden",children:l.children};return(f&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=Rn(u,v),l.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=Rn(_,d):(d=qn(d,f,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,f=e.child.memoizedState,f=f===null?ma(s):{baseLanes:f.baseLanes|s,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=e.childLanes&~s,n.memoizedState=pa,l}return d=e.child,e=d.sibling,l=Rn(d,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ga(e,n){return n=oo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Qs(e,n,s,l){return l!==null&&Hl(l),Cr(n,e.child,null,s),e=ga(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function i_(e,n,s,l,u,d,f){if(s)return n.flags&256?(n.flags&=-257,l=ca(Error(r(422))),Qs(e,n,f,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=oo({mode:"visible",children:l.children},u,0,null),d=qn(d,u,f,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,(n.mode&1)!==0&&Cr(n,e.child,null,f),n.child.memoizedState=ma(f),n.memoizedState=pa,d);if((n.mode&1)===0)return Qs(e,n,f,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=ca(d,l,void 0),Qs(e,n,f,l)}if(_=(f&e.childLanes)!==0,at||_){if(l=Fe,l!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|f))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,tn(e,u),jt(l,e,u,-1))}return Aa(),l=ca(Error(r(421))),Qs(e,n,f,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=__.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,Ct=vn(u.nextSibling),wt=n,ye=!0,Mt=null,e!==null&&(St[kt++]=Zt,St[kt++]=en,St[kt++]=Bn,Zt=e.id,en=e.overflow,Bn=n),n=ga(n,l.children),n.flags|=4096,n)}function yh(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ql(e.return,n,s)}function _a(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function wh(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(nt(e,n,l.children,s),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yh(e,s,n);else if(e.tag===19)yh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(de(we,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Us(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),_a(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Us(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}_a(n,!0,s,null,d);break;case"together":_a(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ys(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function rn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gn|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Rn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Rn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function s_(e,n,s){switch(n.tag){case 3:gh(n),wr();break;case 5:Od(n);break;case 1:lt(n.type)&&Ps(n);break;case 4:ql(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;de(Fs,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(de(we,we.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?vh(e,n,s):(de(we,we.current&1),e=rn(e,n,s),e!==null?e.sibling:null);de(we,we.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(e.flags&128)!==0){if(l)return wh(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,fh(e,n,s)}return rn(e,n,s)}var Ch,va,Eh,Sh;Ch=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},va=function(){},Eh=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Vn(Gt.current);var d=null;switch(s){case"input":u=Qo(e,u),l=Qo(e,l),d=[];break;case"select":u=z({},u,{value:void 0}),l=z({},l,{value:void 0}),d=[];break;case"textarea":u=qo(e,u),l=qo(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Is)}Jo(s,l);var f;s=null;for(I in u)if(!l.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var _=u[I];for(f in _)_.hasOwnProperty(f)&&(s||(s={}),s[f]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?d||(d=[]):(d=d||[]).push(I,null));for(I in l){var v=l[I];if(_=u?.[I],l.hasOwnProperty(I)&&v!==_&&(v!=null||_!=null))if(I==="style")if(_){for(f in _)!_.hasOwnProperty(f)||v&&v.hasOwnProperty(f)||(s||(s={}),s[f]="");for(f in v)v.hasOwnProperty(f)&&_[f]!==v[f]&&(s||(s={}),s[f]=v[f])}else s||(d||(d=[]),d.push(I,s)),s=v;else I==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(d=d||[]).push(I,v)):I==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(I,""+v):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(v!=null&&I==="onScroll"&&me("scroll",e),d||_===v||(d=[])):(d=d||[]).push(I,v))}s&&(d=d||[]).push("style",s);var I=d;(n.updateQueue=I)&&(n.flags|=4)}},Sh=function(e,n,s,l){s!==l&&(n.flags|=4)};function Si(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Je(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function o_(e,n,s){var l=n.pendingProps;switch(Ul(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return lt(n.type)&&Rs(),Je(n),null;case 3:return l=n.stateNode,kr(),ge(ot),ge(qe),Zl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Os(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mt!==null&&(Ra(Mt),Mt=null))),va(e,n),Je(n),null;case 5:Xl(n);var u=Vn(vi.current);if(s=n.type,e!==null&&n.stateNode!=null)Eh(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Je(n),null}if(e=Vn(Gt.current),Os(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[$t]=n,l[fi]=d,e=(n.mode&1)!==0,s){case"dialog":me("cancel",l),me("close",l);break;case"iframe":case"object":case"embed":me("load",l);break;case"video":case"audio":for(u=0;u<ci.length;u++)me(ci[u],l);break;case"source":me("error",l);break;case"img":case"image":case"link":me("error",l),me("load",l);break;case"details":me("toggle",l);break;case"input":rc(l,d),me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},me("invalid",l);break;case"textarea":oc(l,d),me("invalid",l)}Jo(s,d),u=null;for(var f in d)if(d.hasOwnProperty(f)){var _=d[f];f==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&xs(l.textContent,_,e),u=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&xs(l.textContent,_,e),u=["children",""+_]):a.hasOwnProperty(f)&&_!=null&&f==="onScroll"&&me("scroll",l)}switch(s){case"input":rs(l),sc(l,d,!0);break;case"textarea":rs(l),ac(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Is)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=f.createElement(s,{is:l.is}):(e=f.createElement(s),s==="select"&&(f=e,l.multiple?f.multiple=!0:l.size&&(f.size=l.size))):e=f.createElementNS(e,s),e[$t]=n,e[fi]=l,Ch(e,n,!1,!1),n.stateNode=e;e:{switch(f=Zo(s,l),s){case"dialog":me("cancel",e),me("close",e),u=l;break;case"iframe":case"object":case"embed":me("load",e),u=l;break;case"video":case"audio":for(u=0;u<ci.length;u++)me(ci[u],e);u=l;break;case"source":me("error",e),u=l;break;case"img":case"image":case"link":me("error",e),me("load",e),u=l;break;case"details":me("toggle",e),u=l;break;case"input":rc(e,l),u=Qo(e,l),me("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=z({},l,{value:void 0}),me("invalid",e);break;case"textarea":oc(e,l),u=qo(e,l),me("invalid",e);break;default:u=l}Jo(s,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var v=_[d];d==="style"?hc(e,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&cc(e,v)):d==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&$r(e,v):typeof v=="number"&&$r(e,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?v!=null&&d==="onScroll"&&me("scroll",e):v!=null&&He(e,d,v,f))}switch(s){case"input":rs(e),sc(e,l,!1);break;case"textarea":rs(e),ac(e);break;case"option":l.value!=null&&e.setAttribute("value",""+X(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?sr(e,!!l.multiple,d,!1):l.defaultValue!=null&&sr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Is)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Je(n),null;case 6:if(e&&n.stateNode!=null)Sh(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Vn(vi.current),Vn(Gt.current),Os(n)){if(l=n.stateNode,s=n.memoizedProps,l[$t]=n,(d=l.nodeValue!==s)&&(e=wt,e!==null))switch(e.tag){case 3:xs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[$t]=n,n.stateNode=l}return Je(n),null;case 13:if(ge(we),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&Ct!==null&&(n.mode&1)!==0&&(n.flags&128)===0)xd(),wr(),n.flags|=98560,d=!1;else if(d=Os(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[$t]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Je(n),d=!1}else Mt!==null&&(Ra(Mt),Mt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(we.current&1)!==0?Pe===0&&(Pe=3):Aa())),n.updateQueue!==null&&(n.flags|=4),Je(n),null);case 4:return kr(),va(e,n),e===null&&di(n.stateNode.containerInfo),Je(n),null;case 10:return Gl(n.type._context),Je(n),null;case 17:return lt(n.type)&&Rs(),Je(n),null;case 19:if(ge(we),d=n.memoizedState,d===null)return Je(n),null;if(l=(n.flags&128)!==0,f=d.rendering,f===null)if(l)Si(d,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Us(e),f!==null){for(n.flags|=128,Si(d,!1),l=f.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,e=f.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return de(we,we.current&1|2),n.child}e=e.sibling}d.tail!==null&&ke()>Tr&&(n.flags|=128,l=!0,Si(d,!1),n.lanes=4194304)}else{if(!l)if(e=Us(f),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Si(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!ye)return Je(n),null}else 2*ke()-d.renderingStartTime>Tr&&s!==1073741824&&(n.flags|=128,l=!0,Si(d,!1),n.lanes=4194304);d.isBackwards?(f.sibling=n.child,n.child=f):(s=d.last,s!==null?s.sibling=f:n.child=f,d.last=f)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ke(),n.sibling=null,s=we.current,de(we,l?s&1|2:s&1),n):(Je(n),null);case 22:case 23:return Da(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Et&1073741824)!==0&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function l_(e,n){switch(Ul(n),n.tag){case 1:return lt(n.type)&&Rs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kr(),ge(ot),ge(qe),Zl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Xl(n),null;case 13:if(ge(we),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ge(we),null;case 4:return kr(),null;case 10:return Gl(n.type._context),null;case 22:case 23:return Da(),null;case 24:return null;default:return null}}var Ks=!1,Ze=!1,a_=typeof WeakSet=="function"?WeakSet:Set,b=null;function xr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ee(e,n,l)}else s.current=null}function ya(e,n,s){try{s()}catch(l){Ee(e,n,l)}}var kh=!1;function u_(e,n){if(Dl=ms,e=nd(),Sl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var f=0,_=-1,v=-1,I=0,P=0,D=e,R=null;t:for(;;){for(var j;D!==s||u!==0&&D.nodeType!==3||(_=f+u),D!==d||l!==0&&D.nodeType!==3||(v=f+l),D.nodeType===3&&(f+=D.nodeValue.length),(j=D.firstChild)!==null;)R=D,D=j;for(;;){if(D===e)break t;if(R===s&&++I===u&&(_=f),R===d&&++P===l&&(v=f),(j=D.nextSibling)!==null)break;D=R,R=D.parentNode}D=j}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Al={focusedElem:e,selectionRange:s},ms=!1,b=n;b!==null;)if(n=b,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,b=e;else for(;b!==null;){n=b;try{var U=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,Ne=U.memoizedState,k=n.stateNode,w=k.getSnapshotBeforeUpdate(n.elementType===n.type?B:Ot(n.type,B),Ne);k.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(A){Ee(n,n.return,A)}if(e=n.sibling,e!==null){e.return=n.return,b=e;break}b=n.return}return U=kh,kh=!1,U}function ki(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ya(n,s,d)}u=u.next}while(u!==l)}}function qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function wa(e){var n=e.ref;if(n!==null){var s=e.stateNode;e.tag,e=s,typeof n=="function"?n(e):n.current=e}}function Nh(e){var n=e.alternate;n!==null&&(e.alternate=null,Nh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$t],delete n[fi],delete n[Fl],delete n[$g],delete n[Gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xh(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ca(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Is));else if(l!==4&&(e=e.child,e!==null))for(Ca(e,n,s),e=e.sibling;e!==null;)Ca(e,n,s),e=e.sibling}function Ea(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ea(e,n,s),e=e.sibling;e!==null;)Ea(e,n,s),e=e.sibling}var Ge=null,Lt=!1;function kn(e,n,s){for(s=s.child;s!==null;)Th(e,n,s),s=s.sibling}function Th(e,n,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(us,s)}catch{}switch(s.tag){case 5:Ze||xr(s,n);case 6:var l=Ge,u=Lt;Ge=null,kn(e,n,s),Ge=l,Lt=u,Ge!==null&&(Lt?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(Lt?(e=Ge,s=s.stateNode,e.nodeType===8?Ll(e.parentNode,s):e.nodeType===1&&Ll(e,s),ni(e)):Ll(Ge,s.stateNode));break;case 4:l=Ge,u=Lt,Ge=s.stateNode.containerInfo,Lt=!0,kn(e,n,s),Ge=l,Lt=u;break;case 0:case 11:case 14:case 15:if(!Ze&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,f=d.destroy;d=d.tag,f!==void 0&&((d&2)!==0||(d&4)!==0)&&ya(s,n,f),u=u.next}while(u!==l)}kn(e,n,s);break;case 1:if(!Ze&&(xr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){Ee(s,n,_)}kn(e,n,s);break;case 21:kn(e,n,s);break;case 22:s.mode&1?(Ze=(l=Ze)||s.memoizedState!==null,kn(e,n,s),Ze=l):kn(e,n,s);break;default:kn(e,n,s)}}function Rh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new a_),n.forEach(function(l){var u=v_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Ft(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,f=n,_=f;e:for(;_!==null;){switch(_.tag){case 5:Ge=_.stateNode,Lt=!1;break e;case 3:Ge=_.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Ge===null)throw Error(r(160));Th(d,f,u),Ge=null,Lt=!1;var v=u.alternate;v!==null&&(v.return=null),u.return=null}catch(I){Ee(u,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ph(n,e),n=n.sibling}function Ph(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(n,e),Yt(e),l&4){try{ki(3,e,e.return),qs(3,e)}catch(B){Ee(e,e.return,B)}try{ki(5,e,e.return)}catch(B){Ee(e,e.return,B)}}break;case 1:Ft(n,e),Yt(e),l&512&&s!==null&&xr(s,s.return);break;case 5:if(Ft(n,e),Yt(e),l&512&&s!==null&&xr(s,s.return),e.flags&32){var u=e.stateNode;try{$r(u,"")}catch(B){Ee(e,e.return,B)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,f=s!==null?s.memoizedProps:d,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&ic(u,d),Zo(_,f);var I=Zo(_,d);for(f=0;f<v.length;f+=2){var P=v[f],D=v[f+1];P==="style"?hc(u,D):P==="dangerouslySetInnerHTML"?cc(u,D):P==="children"?$r(u,D):He(u,P,D,I)}switch(_){case"input":Yo(u,d);break;case"textarea":lc(u,d);break;case"select":var R=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var j=d.value;j!=null?sr(u,!!d.multiple,j,!1):R!==!!d.multiple&&(d.defaultValue!=null?sr(u,!!d.multiple,d.defaultValue,!0):sr(u,!!d.multiple,d.multiple?[]:"",!1))}u[fi]=d}catch(B){Ee(e,e.return,B)}}break;case 6:if(Ft(n,e),Yt(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(B){Ee(e,e.return,B)}}break;case 3:if(Ft(n,e),Yt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ni(n.containerInfo)}catch(B){Ee(e,e.return,B)}break;case 4:Ft(n,e),Yt(e);break;case 13:Ft(n,e),Yt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Na=ke())),l&4&&Rh(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(Ze=(I=Ze)||P,Ft(n,e),Ze=I):Ft(n,e),Yt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!P&&(e.mode&1)!==0)for(b=e,P=e.child;P!==null;){for(D=b=P;b!==null;){switch(R=b,j=R.child,R.tag){case 0:case 11:case 14:case 15:ki(4,R,R.return);break;case 1:xr(R,R.return);var U=R.stateNode;if(typeof U.componentWillUnmount=="function"){l=R,s=R.return;try{n=l,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(B){Ee(l,s,B)}}break;case 5:xr(R,R.return);break;case 22:if(R.memoizedState!==null){Mh(D);continue}}j!==null?(j.return=R,b=j):Mh(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{u=D.stateNode,I?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=D.stateNode,v=D.memoizedProps.style,f=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=dc("display",f))}catch(B){Ee(e,e.return,B)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=I?"":D.memoizedProps}catch(B){Ee(e,e.return,B)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Ft(n,e),Yt(e),l&4&&Rh(e);break;case 21:break;default:Ft(n,e),Yt(e)}}function Yt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(xh(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&($r(u,""),l.flags&=-33);var d=Ih(e);Ea(e,d,u);break;case 3:case 4:var f=l.stateNode.containerInfo,_=Ih(e);Ca(e,_,f);break;default:throw Error(r(161))}}catch(v){Ee(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function c_(e,n,s){b=e,Dh(e)}function Dh(e,n,s){for(var l=(e.mode&1)!==0;b!==null;){var u=b,d=u.child;if(u.tag===22&&l){var f=u.memoizedState!==null||Ks;if(!f){var _=u.alternate,v=_!==null&&_.memoizedState!==null||Ze;_=Ks;var I=Ze;if(Ks=f,(Ze=v)&&!I)for(b=u;b!==null;)f=b,v=f.child,f.tag===22&&f.memoizedState!==null?Oh(u):v!==null?(v.return=f,b=v):Oh(u);for(;d!==null;)b=d,Dh(d),d=d.sibling;b=u,Ks=_,Ze=I}Ah(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,b=d):Ah(e)}}function Ah(e){for(;b!==null;){var n=b;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ze||qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Ze)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Ot(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Md(n,d,l);break;case 3:var f=n.updateQueue;if(f!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Md(n,f,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var P=I.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&ni(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ze||n.flags&512&&wa(n)}catch(R){Ee(n,n.return,R)}}if(n===e){b=null;break}if(s=n.sibling,s!==null){s.return=n.return,b=s;break}b=n.return}}function Mh(e){for(;b!==null;){var n=b;if(n===e){b=null;break}var s=n.sibling;if(s!==null){s.return=n.return,b=s;break}b=n.return}}function Oh(e){for(;b!==null;){var n=b;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{qs(4,n)}catch(v){Ee(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(v){Ee(n,u,v)}}var d=n.return;try{wa(n)}catch(v){Ee(n,d,v)}break;case 5:var f=n.return;try{wa(n)}catch(v){Ee(n,f,v)}}}catch(v){Ee(n,n.return,v)}if(n===e){b=null;break}var _=n.sibling;if(_!==null){_.return=n.return,b=_;break}b=n.return}}var d_=Math.ceil,Xs=xe.ReactCurrentDispatcher,Sa=xe.ReactCurrentOwner,It=xe.ReactCurrentBatchConfig,se=0,Fe=null,Te=null,Qe=0,Et=0,Ir=yn(0),Pe=0,Ni=null,Gn=0,Js=0,ka=0,xi=null,ut=null,Na=0,Tr=1/0,sn=null,Zs=!1,xa=null,Nn=null,eo=!1,xn=null,to=0,Ii=0,Ia=null,no=-1,ro=0;function rt(){return(se&6)!==0?ke():no!==-1?no:no=ke()}function In(e){return(e.mode&1)===0?1:(se&2)!==0&&Qe!==0?Qe&-Qe:Yg.transition!==null?(ro===0&&(ro=Ic()),ro):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Fc(e.type)),e)}function jt(e,n,s,l){if(50<Ii)throw Ii=0,Ia=null,Error(r(185));Xr(e,s,l),((se&2)===0||e!==Fe)&&(e===Fe&&((se&2)===0&&(Js|=s),Pe===4&&Tn(e,Qe)),ct(e,l),s===1&&se===0&&(n.mode&1)===0&&(Tr=ke()+500,Ds&&Cn()))}function ct(e,n){var s=e.callbackNode;Ym(e,n);var l=hs(e,e===Fe?Qe:0);if(l===0)s!==null&&kc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&kc(s),n===1)e.tag===0?Qg(Fh.bind(null,e)):Cd(Fh.bind(null,e)),Hg(function(){(se&6)===0&&Cn()}),s=null;else{switch(Tc(l)){case 1:s=ol;break;case 4:s=Nc;break;case 16:s=as;break;case 536870912:s=xc;break;default:s=as}s=Vh(s,Lh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Lh(e,n){if(no=-1,ro=0,(se&6)!==0)throw Error(r(327));var s=e.callbackNode;if(Rr()&&e.callbackNode!==s)return null;var l=hs(e,e===Fe?Qe:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=io(e,l);else{n=l;var u=se;se|=2;var d=zh();(Fe!==e||Qe!==n)&&(sn=null,Tr=ke()+500,Yn(e,n));do try{p_();break}catch(_){jh(e,_)}while(!0);$l(),Xs.current=d,se=u,Te!==null?n=0:(Fe=null,Qe=0,n=Pe)}if(n!==0){if(n===2&&(u=ll(e),u!==0&&(l=u,n=Ta(e,u))),n===1)throw s=Ni,Yn(e,0),Tn(e,l),ct(e,ke()),s;if(n===6)Tn(e,l);else{if(u=e.current.alternate,(l&30)===0&&!h_(u)&&(n=io(e,l),n===2&&(d=ll(e),d!==0&&(l=d,n=Ta(e,d))),n===1))throw s=Ni,Yn(e,0),Tn(e,l),ct(e,ke()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Kn(e,ut,sn);break;case 3:if(Tn(e,l),(l&130023424)===l&&(n=Na+500-ke(),10<n)){if(hs(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){rt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ol(Kn.bind(null,e,ut,sn),n);break}Kn(e,ut,sn);break;case 4:if(Tn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var f=31-Dt(l);d=1<<f,f=n[f],f>u&&(u=f),l&=~d}if(l=u,l=ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*d_(l/1960))-l,10<l){e.timeoutHandle=Ol(Kn.bind(null,e,ut,sn),l);break}Kn(e,ut,sn);break;case 5:Kn(e,ut,sn);break;default:throw Error(r(329))}}}return ct(e,ke()),e.callbackNode===s?Lh.bind(null,e):null}function Ta(e,n){var s=xi;return e.current.memoizedState.isDehydrated&&(Yn(e,n).flags|=256),e=io(e,n),e!==2&&(n=ut,ut=s,n!==null&&Ra(n)),e}function Ra(e){ut===null?ut=e:ut.push.apply(ut,e)}function h_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!At(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tn(e,n){for(n&=~ka,n&=~Js,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Dt(n),l=1<<s;e[s]=-1,n&=~l}}function Fh(e){if((se&6)!==0)throw Error(r(327));Rr();var n=hs(e,0);if((n&1)===0)return ct(e,ke()),null;var s=io(e,n);if(e.tag!==0&&s===2){var l=ll(e);l!==0&&(n=l,s=Ta(e,l))}if(s===1)throw s=Ni,Yn(e,0),Tn(e,n),ct(e,ke()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Kn(e,ut,sn),ct(e,ke()),null}function Pa(e,n){var s=se;se|=1;try{return e(n)}finally{se=s,se===0&&(Tr=ke()+500,Ds&&Cn())}}function Qn(e){xn!==null&&xn.tag===0&&(se&6)===0&&Rr();var n=se;se|=1;var s=It.transition,l=ue;try{if(It.transition=null,ue=1,e)return e()}finally{ue=l,It.transition=s,se=n,(se&6)===0&&Cn()}}function Da(){Et=Ir.current,ge(Ir)}function Yn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Wg(s)),Te!==null)for(s=Te.return;s!==null;){var l=s;switch(Ul(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Rs();break;case 3:kr(),ge(ot),ge(qe),Zl();break;case 5:Xl(l);break;case 4:kr();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Gl(l.type._context);break;case 22:case 23:Da()}s=s.return}if(Fe=e,Te=e=Rn(e.current,null),Qe=Et=n,Pe=0,Ni=null,ka=Js=Gn=0,ut=xi=null,Hn!==null){for(n=0;n<Hn.length;n++)if(s=Hn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var f=d.next;d.next=u,l.next=f}s.pending=l}Hn=null}return e}function jh(e,n){do{var s=Te;try{if($l(),Bs.current=$s,Ws){for(var l=Ce.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Ws=!1}if($n=0,Le=Re=Ce=null,yi=!1,wi=0,Sa.current=null,s===null||s.return===null){Pe=1,Ni=n,Te=null;break}e:{var d=e,f=s.return,_=s,v=n;if(n=Qe,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=v,P=_,D=P.tag;if((P.mode&1)===0&&(D===0||D===11||D===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var j=ah(f);if(j!==null){j.flags&=-257,uh(j,f,_,d,n),j.mode&1&&lh(d,I,n),n=j,v=I;var U=n.updateQueue;if(U===null){var B=new Set;B.add(v),n.updateQueue=B}else U.add(v);break e}else{if((n&1)===0){lh(d,I,n),Aa();break e}v=Error(r(426))}}else if(ye&&_.mode&1){var Ne=ah(f);if(Ne!==null){(Ne.flags&65536)===0&&(Ne.flags|=256),uh(Ne,f,_,d,n),Hl(Nr(v,_));break e}}d=v=Nr(v,_),Pe!==4&&(Pe=2),xi===null?xi=[d]:xi.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var k=sh(d,v,n);Ad(d,k);break e;case 1:_=v;var w=d.type,N=d.stateNode;if((d.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Nn===null||!Nn.has(N)))){d.flags|=65536,n&=-n,d.lanes|=n;var A=oh(d,_,n);Ad(d,A);break e}}d=d.return}while(d!==null)}Uh(s)}catch(W){n=W,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(!0)}function zh(){var e=Xs.current;return Xs.current=$s,e===null?$s:e}function Aa(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Fe===null||(Gn&268435455)===0&&(Js&268435455)===0||Tn(Fe,Qe)}function io(e,n){var s=se;se|=2;var l=zh();(Fe!==e||Qe!==n)&&(sn=null,Yn(e,n));do try{f_();break}catch(u){jh(e,u)}while(!0);if($l(),se=s,Xs.current=l,Te!==null)throw Error(r(261));return Fe=null,Qe=0,Pe}function f_(){for(;Te!==null;)bh(Te)}function p_(){for(;Te!==null&&!bm();)bh(Te)}function bh(e){var n=Hh(e.alternate,e,Et);e.memoizedProps=e.pendingProps,n===null?Uh(e):Te=n,Sa.current=null}function Uh(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=o_(s,n,Et),s!==null){Te=s;return}}else{if(s=l_(s,n),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Te=null;return}}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Pe===0&&(Pe=5)}function Kn(e,n,s){var l=ue,u=It.transition;try{It.transition=null,ue=1,m_(e,n,s,l)}finally{It.transition=u,ue=l}return null}function m_(e,n,s,l){do Rr();while(xn!==null);if((se&6)!==0)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Km(e,d),e===Fe&&(Te=Fe=null,Qe=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||eo||(eo=!0,Vh(as,function(){return Rr(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=It.transition,It.transition=null;var f=ue;ue=1;var _=se;se|=4,Sa.current=null,u_(e,s),Ph(s,e),Lg(Al),ms=!!Dl,Al=Dl=null,e.current=s,c_(s),Um(),se=_,ue=f,It.transition=d}else e.current=s;if(eo&&(eo=!1,xn=e,to=u),d=e.pendingLanes,d===0&&(Nn=null),Hm(s.stateNode),ct(e,ke()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Zs)throw Zs=!1,e=xa,xa=null,e;return(to&1)!==0&&e.tag!==0&&Rr(),d=e.pendingLanes,(d&1)!==0?e===Ia?Ii++:(Ii=0,Ia=e):Ii=0,Cn(),null}function Rr(){if(xn!==null){var e=Tc(to),n=It.transition,s=ue;try{if(It.transition=null,ue=16>e?16:e,xn===null)var l=!1;else{if(e=xn,xn=null,to=0,(se&6)!==0)throw Error(r(331));var u=se;for(se|=4,b=e.current;b!==null;){var d=b,f=d.child;if((b.flags&16)!==0){var _=d.deletions;if(_!==null){for(var v=0;v<_.length;v++){var I=_[v];for(b=I;b!==null;){var P=b;switch(P.tag){case 0:case 11:case 15:ki(8,P,d)}var D=P.child;if(D!==null)D.return=P,b=D;else for(;b!==null;){P=b;var R=P.sibling,j=P.return;if(Nh(P),P===I){b=null;break}if(R!==null){R.return=j,b=R;break}b=j}}}var U=d.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var Ne=B.sibling;B.sibling=null,B=Ne}while(B!==null)}}b=d}}if((d.subtreeFlags&2064)!==0&&f!==null)f.return=d,b=f;else e:for(;b!==null;){if(d=b,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ki(9,d,d.return)}var k=d.sibling;if(k!==null){k.return=d.return,b=k;break e}b=d.return}}var w=e.current;for(b=w;b!==null;){f=b;var N=f.child;if((f.subtreeFlags&2064)!==0&&N!==null)N.return=f,b=N;else e:for(f=w;b!==null;){if(_=b,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:qs(9,_)}}catch(W){Ee(_,_.return,W)}if(_===f){b=null;break e}var A=_.sibling;if(A!==null){A.return=_.return,b=A;break e}b=_.return}}if(se=u,Cn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(us,e)}catch{}l=!0}return l}finally{ue=s,It.transition=n}}return!1}function Bh(e,n,s){n=Nr(s,n),n=sh(e,n,1),e=Sn(e,n,1),n=rt(),e!==null&&(Xr(e,1,n),ct(e,n))}function Ee(e,n,s){if(e.tag===3)Bh(e,e,s);else for(;n!==null;){if(n.tag===3){Bh(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nn===null||!Nn.has(l))){e=Nr(s,e),e=oh(n,e,1),n=Sn(n,e,1),e=rt(),n!==null&&(Xr(n,1,e),ct(n,e));break}}n=n.return}}function g_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,Fe===e&&(Qe&s)===s&&(Pe===4||Pe===3&&(Qe&130023424)===Qe&&500>ke()-Na?Yn(e,0):ka|=s),ct(e,n)}function Wh(e,n){n===0&&((e.mode&1)===0?n=1:(n=ds,ds<<=1,(ds&130023424)===0&&(ds=4194304)));var s=rt();e=tn(e,n),e!==null&&(Xr(e,n,s),ct(e,s))}function __(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wh(e,s)}function v_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wh(e,s)}var Hh;Hh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ot.current)at=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return at=!1,s_(e,n,s);at=(e.flags&131072)!==0}else at=!1,ye&&(n.flags&1048576)!==0&&Ed(n,Ms,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ys(e,n),e=n.pendingProps;var u=_r(n,qe.current);Sr(n,s),u=na(null,n,l,e,u,s);var d=ra();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(l)?(d=!0,Ps(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Kl(n),u.updater=Gs,n.stateNode=u,u._reactInternals=n,ua(n,l,e,s),n=fa(null,n,l,!0,d,s)):(n.tag=0,ye&&d&&bl(n),nt(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Ys(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=w_(l),e=Ot(l,e),u){case 0:n=ha(null,n,l,e,s);break e;case 1:n=mh(null,n,l,e,s);break e;case 11:n=ch(null,n,l,e,s);break e;case 14:n=dh(null,n,l,Ot(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ot(l,u),ha(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ot(l,u),mh(e,n,l,u,s);case 3:e:{if(gh(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,Dd(e,n),bs(n,l,null,s);var f=n.memoizedState;if(l=f.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Nr(Error(r(423)),n),n=_h(e,n,l,s,u);break e}else if(l!==u){u=Nr(Error(r(424)),n),n=_h(e,n,l,s,u);break e}else for(Ct=vn(n.stateNode.containerInfo.firstChild),wt=n,ye=!0,Mt=null,s=Rd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wr(),l===u){n=rn(e,n,s);break e}nt(e,n,l,s)}n=n.child}return n;case 5:return Od(n),e===null&&Wl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,f=u.children,Ml(l,u)?f=null:d!==null&&Ml(l,d)&&(n.flags|=32),ph(e,n),nt(e,n,f,s),n.child;case 6:return e===null&&Wl(n),null;case 13:return vh(e,n,s);case 4:return ql(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Cr(n,null,l,s):nt(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ot(l,u),ch(e,n,l,u,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,f=u.value,de(Fs,l._currentValue),l._currentValue=f,d!==null)if(At(d.value,f)){if(d.children===u.children&&!ot.current){n=rn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){f=d.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(d.tag===1){v=nn(-1,s&-s),v.tag=2;var I=d.updateQueue;if(I!==null){I=I.shared;var P=I.pending;P===null?v.next=v:(v.next=P.next,P.next=v),I.pending=v}}d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),Ql(d.return,s,n),_.lanes|=s;break}v=v.next}}else if(d.tag===10)f=d.type===n.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(r(341));f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),Ql(f,s,n),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===n){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}nt(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,Sr(n,s),u=Nt(u),l=l(u),n.flags|=1,nt(e,n,l,s),n.child;case 14:return l=n.type,u=Ot(l,n.pendingProps),u=Ot(l.type,u),dh(e,n,l,u,s);case 15:return hh(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ot(l,u),Ys(e,n),n.tag=1,lt(l)?(e=!0,Ps(n)):e=!1,Sr(n,s),rh(n,l,u),ua(n,l,u,s),fa(null,n,l,!0,e,s);case 19:return wh(e,n,s);case 22:return fh(e,n,s)}throw Error(r(156,n.tag))};function Vh(e,n){return Sc(e,n)}function y_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,s,l){return new y_(e,n,s,l)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w_(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gt)return 11;if(e===_t)return 14}return 2}function Rn(e,n){var s=e.alternate;return s===null?(s=Tt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function so(e,n,s,l,u,d){var f=2;if(l=e,typeof e=="function")Ma(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Ke:return qn(s.children,u,d,n);case tt:f=8,u|=8;break;case Ht:return e=Tt(12,s,n,u|2),e.elementType=Ht,e.lanes=d,e;case Ie:return e=Tt(13,s,n,u),e.elementType=Ie,e.lanes=d,e;case st:return e=Tt(19,s,n,u),e.elementType=st,e.lanes=d,e;case pe:return oo(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pt:f=10;break e;case qt:f=9;break e;case gt:f=11;break e;case _t:f=14;break e;case $e:f=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Tt(f,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function qn(e,n,s,l){return e=Tt(7,e,l,n),e.lanes=s,e}function oo(e,n,s,l){return e=Tt(22,e,l,n),e.elementType=pe,e.lanes=s,e.stateNode={isHidden:!1},e}function Oa(e,n,s){return e=Tt(6,e,null,n),e.lanes=s,e}function La(e,n,s){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function C_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Fa(e,n,s,l,u,d,f,_,v){return e=new C_(e,n,s,_,v),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Tt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(d),e}function E_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ve,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function $h(e){if(!e)return wn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(lt(s))return yd(e,s,n)}return n}function Gh(e,n,s,l,u,d,f,_,v){return e=Fa(s,l,!0,e,u,d,f,_,v),e.context=$h(null),s=e.current,l=rt(),u=In(s),d=nn(l,u),d.callback=n??null,Sn(s,d,u),e.current.lanes=u,Xr(e,u,l),ct(e,l),e}function lo(e,n,s,l){var u=n.current,d=rt(),f=In(u);return s=$h(s),n.context===null?n.context=s:n.pendingContext=s,n=nn(d,f),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Sn(u,n,f),e!==null&&(jt(e,u,f,d),zs(e,u,f)),f}function ao(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Qh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ja(e,n){Qh(e,n),(e=e.alternate)&&Qh(e,n)}function S_(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}uo.prototype.render=za.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));lo(e,n,null,null)},uo.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qn(function(){lo(null,e,null,null)}),n[Xt]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<mn.length&&n!==0&&n<mn[s].priority;s++);mn.splice(s,0,e),s===0&&Oc(e)}};function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function k_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var I=ao(f);d.call(I)}}var f=Gh(n,l,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=f,e[Xt]=f.current,di(e.nodeType===8?e.parentNode:e),Qn(),f}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var _=l;l=function(){var I=ao(v);_.call(I)}}var v=Fa(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=v,e[Xt]=v.current,di(e.nodeType===8?e.parentNode:e),Qn(function(){lo(n,v,s,l)}),v}function ho(e,n,s,l,u){var d=s._reactRootContainer;if(d){var f=d;if(typeof u=="function"){var _=u;u=function(){var v=ao(f);_.call(v)}}lo(n,f,e,u)}else f=k_(s,n,e,u,l);return ao(f)}Rc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=qr(n.pendingLanes);s!==0&&(ul(n,s|1),ct(n,ke()),(se&6)===0&&(Tr=ke()+500,Cn()))}break;case 13:Qn(function(){var l=tn(e,1);if(l!==null){var u=rt();jt(l,e,1,u)}}),ja(e,1)}},cl=function(e){if(e.tag===13){var n=tn(e,134217728);if(n!==null){var s=rt();jt(n,e,134217728,s)}ja(e,134217728)}},Pc=function(e){if(e.tag===13){var n=In(e),s=tn(e,n);if(s!==null){var l=rt();jt(s,e,n,l)}ja(e,n)}},Dc=function(){return ue},Ac=function(e,n){var s=ue;try{return ue=e,n()}finally{ue=s}},nl=function(e,n,s){switch(n){case"input":if(Yo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Ts(l);if(!u)throw Error(r(90));nc(l),Yo(l,u)}}}break;case"textarea":lc(e,s);break;case"select":n=s.value,n!=null&&sr(e,!!s.multiple,n,!1)}},gc=Pa,_c=Qn;var N_={usingClientEntryPoint:!1,Events:[pi,mr,Ts,pc,mc,Pa]},Ti={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x_={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||S_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{us=fo.inject(x_),Vt=fo}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_,dt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(n))throw Error(r(200));return E_(e,n,null,s)},dt.createRoot=function(e,n){if(!ba(e))throw Error(r(299));var s=!1,l="",u=Yh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Fa(e,1,!1,null,null,s,!1,l,u),e[Xt]=n.current,di(e.nodeType===8?e.parentNode:e),new za(n)},dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Cc(n),e=e===null?null:e.stateNode,e},dt.flushSync=function(e){return Qn(e)},dt.hydrate=function(e,n,s){if(!co(n))throw Error(r(200));return ho(null,e,n,!0,s)},dt.hydrateRoot=function(e,n,s){if(!ba(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",f=Yh;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),n=Gh(n,null,e,1,s??null,u,!1,d,f),e[Xt]=n.current,di(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new uo(n)},dt.render=function(e,n,s){if(!co(n))throw Error(r(200));return ho(null,e,n,!1,s)},dt.unmountComponentAtNode=function(e){if(!co(e))throw Error(r(40));return e._reactRootContainer?(Qn(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1},dt.unstable_batchedUpdates=Pa,dt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!co(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ho(e,n,s,!1,l)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var rf;function O_(){if(rf)return Wa.exports;rf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wa.exports=M_(),Wa.exports}var sf;function L_(){if(sf)return po;sf=1;var i=O_();return po.createRoot=i.createRoot,po.hydrateRoot=i.hydrateRoot,po}var F_=L_(),of={};const Jf={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const M=function(i,t){if(!i)throw br(t)},br=function(i){return new Error("Firebase Database ("+Jf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};const Zf=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},j_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],h=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],h=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return t.join("")},Su={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,p=h?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,S=c>>2,C=(c&3)<<4|p>>4;let x=(p&15)<<2|g>>6,L=g&63;m||(L=64,h||(x=64)),o.push(r[S],r[C],r[x],r[L])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Zf(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):j_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const C=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||g==null||C==null)throw new z_;const x=c<<2|p>>4;if(o.push(x),g!==64){const L=p<<4&240|g>>2;if(o.push(L),C!==64){const O=g<<6&192|C;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class z_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ep=function(i){const t=Zf(i);return Su.encodeByteArray(t,!0)},vo=function(i){return ep(i).replace(/\./g,"")},nu=function(i){try{return Su.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b_(i){return tp(void 0,i)}function tp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!U_(r)||(i[r]=tp(i[r],t[r]));return i}function U_(i){return i!=="__proto__"}function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W_=()=>B_().__FIREBASE_DEFAULTS__,H_=()=>{if(typeof process>"u"||typeof of>"u")return;const i=of.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},V_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nu(i[1]);return t&&JSON.parse(t)},np=()=>{try{return W_()||H_()||V_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$_=i=>{var t,r;return(r=(t=np())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},G_=i=>{const t=$_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},rp=()=>{var i;return(i=np())===null||i===void 0?void 0:i.config};class Lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}function Q_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vo(JSON.stringify(r)),vo(JSON.stringify(h)),""].join(".")}function Y_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ip(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y_())}function K_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q_(){return Jf.NODE_ADMIN===!0}function X_(){try{return typeof indexedDB=="object"}catch{return!1}}function J_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}const Z_="FirebaseError";class qi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Z_,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sp.prototype.create)}}class sp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],h=c?ev(c,o):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new qi(a,p,o)}}function ev(i,t){return i.replace(tv,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const tv=/\{\$([^}]+)}/g;function bi(i){return JSON.parse(i)}function De(i){return JSON.stringify(i)}const op=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=bi(nu(c[0])||""),r=bi(nu(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},nv=function(i){const t=op(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},rv=function(i){const t=op(i).claims;return typeof t=="object"&&t.admin===!0};function cn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Lr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function lf(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function yo(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function ru(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],h=t[a];if(af(c)&&af(h)){if(!ru(c,h))return!1}else if(c!==h)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function af(i){return i!==null&&typeof i=="object"}function iv(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}class sv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let C=0;C<16;C++)o[C]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let C=0;C<16;C++)o[C]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let C=16;C<80;C++){const x=o[C-3]^o[C-8]^o[C-14]^o[C-16];o[C]=(x<<1|x>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],h=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,S;for(let C=0;C<80;C++){C<40?C<20?(g=p^c&(h^p),S=1518500249):(g=c^h^p,S=1859775393):C<60?(g=c&h|p&(c|h),S=2400959708):(g=c^h^p,S=3395469782);const x=(a<<5|a>>>27)+g+m+S+o[C]&4294967295;m=p,p=h,h=(c<<30|c>>>2)&4294967295,c=a,a=x}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let h=this.inbuf_;for(;a<r;){if(h===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[h]=t.charCodeAt(a),++h,++a,h===this.blockSize){this.compress_(c),h=0;break}}else for(;a<r;)if(c[h]=t[a],++h,++a,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function ku(i,t){return`${i} failed: ${t} argument `}const ov=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const h=i.charCodeAt(o)-56320;a=65536+(c<<10)+h}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Fo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};function Ur(i){return i&&i._delegate?i._delegate:i}class Ui{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xn="[DEFAULT]";class lv{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Lo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t?.identifier),a=(r=t?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uv(t))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xn){return this.instances.has(t)}getOptions(t=Xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&h.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&t(h,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:av(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Xn){return this.component?this.component.multipleInstances?t:Xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function av(i){return i===Xn?void 0:i}function uv(i){return i.instantiationMode==="EAGER"}class cv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new lv(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var he;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(he||(he={}));const dv={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},hv=he.INFO,fv={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},pv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=fv[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lp{constructor(t){this.name=t,this._logLevel=hv,this._logHandler=pv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const mv=(i,t)=>t.some(r=>i instanceof r);let uf,cf;function gv(){return uf||(uf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _v(){return cf||(cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ap=new WeakMap,iu=new WeakMap,up=new WeakMap,$a=new WeakMap,Nu=new WeakMap;function vv(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{r(Dn(i.result)),a()},h=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&ap.set(r,i)}).catch(()=>{}),Nu.set(t,i),t}function yv(i){if(iu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{r(),a()},h=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});iu.set(i,t)}let su={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return iu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||up.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Dn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function wv(i){su=i(su)}function Cv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Ga(this),t,...r);return up.set(o,t.sort?t.sort():[t]),Dn(o)}:_v().includes(i)?function(...t){return i.apply(Ga(this),t),Dn(ap.get(this))}:function(...t){return Dn(i.apply(Ga(this),t))}}function Ev(i){return typeof i=="function"?Cv(i):(i instanceof IDBTransaction&&yv(i),mv(i,gv())?new Proxy(i,su):i)}function Dn(i){if(i instanceof IDBRequest)return vv(i);if($a.has(i))return $a.get(i);const t=Ev(i);return t!==i&&($a.set(i,t),Nu.set(t,i)),t}const Ga=i=>Nu.get(i);function Sv(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const h=indexedDB.open(i,t),p=Dn(h);return o&&h.addEventListener("upgradeneeded",m=>{o(Dn(h.result),m.oldVersion,m.newVersion,Dn(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const kv=["get","getKey","getAll","getAllKeys","count"],Nv=["put","add","delete","clear"],Qa=new Map;function df(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Qa.get(t))return Qa.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Nv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||kv.includes(r)))return;const c=async function(h,...p){const m=this.transaction(h,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),a&&m.done]))[0]};return Qa.set(t,c),c}wv(i=>({...i,get:(t,r,o)=>df(t,r)||i.get(t,r,o),has:(t,r)=>!!df(t,r)||i.has(t,r)}));class xv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Iv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Iv(i){const t=i.getComponent();return t?.type==="VERSION"}const ou="@firebase/app",hf="0.10.13";const an=new lp("@firebase/app"),Tv="@firebase/app-compat",Rv="@firebase/analytics-compat",Pv="@firebase/analytics",Dv="@firebase/app-check-compat",Av="@firebase/app-check",Mv="@firebase/auth",Ov="@firebase/auth-compat",Lv="@firebase/database",Fv="@firebase/data-connect",jv="@firebase/database-compat",zv="@firebase/functions",bv="@firebase/functions-compat",Uv="@firebase/installations",Bv="@firebase/installations-compat",Wv="@firebase/messaging",Hv="@firebase/messaging-compat",Vv="@firebase/performance",$v="@firebase/performance-compat",Gv="@firebase/remote-config",Qv="@firebase/remote-config-compat",Yv="@firebase/storage",Kv="@firebase/storage-compat",qv="@firebase/firestore",Xv="@firebase/vertexai-preview",Jv="@firebase/firestore-compat",Zv="firebase",ey="10.14.1";const lu="[DEFAULT]",ty={[ou]:"fire-core",[Tv]:"fire-core-compat",[Pv]:"fire-analytics",[Rv]:"fire-analytics-compat",[Av]:"fire-app-check",[Dv]:"fire-app-check-compat",[Mv]:"fire-auth",[Ov]:"fire-auth-compat",[Lv]:"fire-rtdb",[Fv]:"fire-data-connect",[jv]:"fire-rtdb-compat",[zv]:"fire-fn",[bv]:"fire-fn-compat",[Uv]:"fire-iid",[Bv]:"fire-iid-compat",[Wv]:"fire-fcm",[Hv]:"fire-fcm-compat",[Vv]:"fire-perf",[$v]:"fire-perf-compat",[Gv]:"fire-rc",[Qv]:"fire-rc-compat",[Yv]:"fire-gcs",[Kv]:"fire-gcs-compat",[qv]:"fire-fst",[Jv]:"fire-fst-compat",[Xv]:"fire-vertex","fire-js":"fire-js",[Zv]:"fire-js-all"};const wo=new Map,ny=new Map,au=new Map;function ff(i,t){try{i.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Co(i){const t=i.name;if(au.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;au.set(t,i);for(const r of wo.values())ff(r,i);for(const r of ny.values())ff(r,i);return!0}function ry(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}const iy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new sp("app","Firebase",iy);class sy{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const oy=ey;function cp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:lu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw An.create("bad-app-name",{appName:String(a)});if(r||(r=rp()),!r)throw An.create("no-options");const c=wo.get(a);if(c){if(ru(r,c.options)&&ru(o,c.config))return c;throw An.create("duplicate-app",{appName:a})}const h=new cv(a);for(const m of au.values())h.addComponent(m);const p=new sy(r,o,h);return wo.set(a,p),p}function ly(i=lu){const t=wo.get(i);if(!t&&i===lu&&rp())return cp();if(!t)throw An.create("no-app",{appName:i});return t}function Ar(i,t,r){var o;let a=(o=ty[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(p.join(" "));return}Co(new Ui(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ay="firebase-heartbeat-database",uy=1,Bi="firebase-heartbeat-store";let Ya=null;function dp(){return Ya||(Ya=Sv(ay,uy,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Bi)}catch(r){console.warn(r)}}}}).catch(i=>{throw An.create("idb-open",{originalErrorMessage:i.message})})),Ya}async function cy(i){try{const r=(await dp()).transaction(Bi),o=await r.objectStore(Bi).get(hp(i));return await r.done,o}catch(t){if(t instanceof qi)an.warn(t.message);else{const r=An.create("idb-get",{originalErrorMessage:t?.message});an.warn(r.message)}}}async function pf(i,t){try{const o=(await dp()).transaction(Bi,"readwrite");await o.objectStore(Bi).put(t,hp(i)),await o.done}catch(r){if(r instanceof qi)an.warn(r.message);else{const o=An.create("idb-set",{originalErrorMessage:r?.message});an.warn(o.message)}}}function hp(i){return`${i.name}!${i.options.appId}`}const dy=1024,hy=720*60*60*1e3;class fy{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new my(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=mf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const p=new Date(h.date).valueOf();return Date.now()-p<=hy}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=mf(),{heartbeatsToSend:o,unsentEntries:a}=py(this._heartbeatsCache.heartbeats),c=vo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return an.warn(r),""}}}function mf(){return new Date().toISOString().substring(0,10)}function py(i,t=dy){const r=[];let o=i.slice();for(const a of i){const c=r.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),gf(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),gf(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class my{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X_()?J_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await cy(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return pf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return pf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function gf(i){return vo(JSON.stringify({version:2,heartbeats:i})).length}function gy(i){Co(new Ui("platform-logger",t=>new xv(t),"PRIVATE")),Co(new Ui("heartbeat",t=>new fy(t),"PRIVATE")),Ar(ou,hf,i),Ar(ou,hf,"esm2017"),Ar("fire-js","")}gy("");var _y="firebase",vy="10.14.1";Ar(_y,vy,"app");var _f={};const vf="@firebase/database",yf="1.0.8";let fp="";function yy(i){fp=i}class wy{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),De(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:bi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Cy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return cn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const pp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wy(t)}}catch{}return new Cy},Zn=pp("localStorage"),Ey=pp("sessionStorage");const Mr=new lp("@firebase/database"),Sy=(function(){let i=1;return function(){return i++}})(),mp=function(i){const t=ov(i),r=new sv;r.update(t);const o=r.digest();return Su.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=De(o):t+=o,t+=" "}return t};let Oi=null,wf=!0;const ky=function(i,t){M(!0,"Can't turn on custom loggers persistently."),Mr.logLevel=he.VERBOSE,Oi=Mr.log.bind(Mr)},et=function(...i){if(wf===!0&&(wf=!1,Oi===null&&Ey.get("logging_enabled")===!0&&ky()),Oi){const t=Xi.apply(null,i);Oi(t)}},Ji=function(i){return function(...t){et(i,...t)}},uu=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);Mr.error(t)},un=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw Mr.error(t),new Error(t)},ft=function(...i){const t="FIREBASE WARNING: "+Xi(...i);Mr.warn(t)},Ny=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},xy=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Fr="[MIN_NAME]",tr="[MAX_NAME]",Br=function(i,t){if(i===t)return 0;if(i===Fr||t===tr)return-1;if(t===Fr||i===tr)return 1;{const r=Cf(i),o=Cf(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Iy=function(i,t){return i===t?0:i<t?-1:1},Pi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+De(t))},xu=function(i){if(typeof i!="object"||i===null)return De(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=De(t[o]),r+=":",r+=xu(i[t[o]]);return r+="}",r},_p=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function pt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const vp=function(i){M(!gp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,h,p,m;i===0?(c=0,h=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,h=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,h=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(a?1:0),g.reverse();const S=g.join("");let C="";for(m=0;m<64;m+=8){let x=parseInt(S.substr(m,8),2).toString(16);x.length===1&&(x="0"+x),C=C+x}return C.toLowerCase()},Ty=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ry=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Py(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Dy=new RegExp("^-?(0*)\\d{1,10}$"),Ay=-2147483648,My=2147483647,Cf=function(i){if(Dy.test(i)){const t=Number(i);if(t>=Ay&&t<=My)return t}return null},Wr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ft("Exception was thrown by user callback.",r),t},Math.floor(0))}},Oy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};class Ly{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fy{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class _o{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}_o.OWNER="owner";const Iu="5",yp="v",wp="s",Cp="r",Ep="f",Sp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kp="ls",Np="p",cu="ac",xp="websocket",Ip="long_polling";class Tp{constructor(t,r,o,a,c=!1,h="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function jy(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Rp(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===xp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Ip)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);jy(i)&&(r.ns=i.namespace);const a=[];return pt(r,(c,h)=>{a.push(c+"="+h)}),o+a.join("&")}class zy{constructor(){this.counters_={}}incrementCounter(t,r=1){cn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return b_(this.counters_)}}const Ka={},qa={};function Tu(i){const t=i.toString();return Ka[t]||(Ka[t]=new zy),Ka[t]}function by(i,t){const r=i.toString();return qa[r]||(qa[r]=t()),qa[r]}class Uy{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Wr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ef="start",By="close",Wy="pLPCommand",Hy="pRTLPCB",Pp="id",Dp="pw",Ap="ser",Vy="cb",$y="seg",Gy="ts",Qy="d",Yy="dframe",Mp=1870,Op=30,Ky=Mp-Op,qy=25e3,Xy=3e4;class Dr{constructor(t,r,o,a,c,h,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Tu(r),this.urlFn=m=>(this.appCheckToken&&(m[cu]=this.appCheckToken),Rp(r,Ip,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Uy(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xy)),xy(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ru((...c)=>{const[h,p,m,g,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Ef)this.id=p,this.password=m;else if(h===By)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Ef]="t",o[Ap]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Vy]=this.scriptTagHolder.uniqueCallbackIdentifier),o[yp]=Iu,this.transportSessionId&&(o[wp]=this.transportSessionId),this.lastSessionId&&(o[kp]=this.lastSessionId),this.applicationId&&(o[Np]=this.applicationId),this.appCheckToken&&(o[cu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sp.test(location.hostname)&&(o[Cp]=Ep);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dr.forceAllow_=!0}static forceDisallow(){Dr.forceDisallow_=!0}static isAvailable(){return Dr.forceAllow_?!0:!Dr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ty()&&!Ry()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=De(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=ep(r),a=_p(o,Ky);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Yy]="t",o[Pp]=t,o[Dp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=De(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Ru{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Sy(),window[Wy+this.uniqueCallbackIdentifier]=t,window[Hy+this.uniqueCallbackIdentifier]=r,this.myIFrame=Ru.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){et("frame writing exception"),p.stack&&et(p.stack),et(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||et("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Pp]=this.myID,t[Dp]=this.myPW,t[Ap]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Op+o.length<=Mp;){const h=this.pendingSegs.shift();o=o+"&"+$y+a+"="+h.seg+"&"+Gy+a+"="+h.ts+"&"+Qy+a+"="+h.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(qy)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{et("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}const Jy=16384,Zy=45e3;let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);class zt{constructor(t,r,o,a,c,h,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Tu(r),this.connURL=zt.connectionURL_(r,h,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const h={};return h[yp]=Iu,typeof location<"u"&&location.hostname&&Sp.test(location.hostname)&&(h[Cp]=Ep),r&&(h[wp]=r),o&&(h[kp]=o),a&&(h[cu]=a),c&&(h[Np]=c),Rp(t,xp,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;q_(),this.mySock=new Eo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){zt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Eo!==null&&!zt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=bi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=De(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=_p(r,Jy);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zy))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zt.responsesRequiredToBeHealthy=2;zt.healthyTimeout=3e4;class Wi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Dr,zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=zt&&zt.isAvailable();let o=r&&!zt.previouslyFailed();if(t.webSocketOnly&&(r||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[zt];else{const a=this.transports_=[];for(const c of Wi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wi.globalTransportInitialized_=!1;const ew=6e4,tw=5e3,nw=10*1024,rw=100*1024,Xa="t",Sf="d",iw="s",kf="r",sw="e",Nf="o",xf="a",If="n",Tf="p",ow="h";class lw{constructor(t,r,o,a,c,h,p,m,g,S){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new Wi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Xa in t){const r=t[Xa];r===xf?this.upgradeIfSecondaryHealthy_():r===kf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Nf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Pi("t",t),o=Pi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:If,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Pi("t",t),o=Pi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Pi(Xa,t);if(Sf in t){const o=t[Sf];if(r===ow){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===If){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===iw?this.onConnectionShutdown_(o):r===kf?this.onReset_(o):r===sw?uu("Server Error: "+o):r===Nf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Iu!==o&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ew))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tf,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Lp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}class Fp{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}class So extends Fp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ip()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new So}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Rf=32,Pf=768;class ce{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ae(){return new ce("")}function te(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ln(i){return i.pieces_.length-i.pieceNum_}function fe(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ce(i.pieces_,t)}function jp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function aw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function zp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function bp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ce(t,0)}function Ae(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ce)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new ce(r,0)}function re(i){return i.pieceNum_>=i.pieces_.length}function it(i,t){const r=te(i),o=te(t);if(r===null)return t;if(r===o)return it(fe(i),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Pu(i,t){if(Ln(i)!==Ln(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Ut(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Ln(i)>Ln(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class uw{constructor(t,r){this.errorPrefix_=r,this.parts_=zp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Fo(this.parts_[o]);Up(this)}}function cw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Fo(t),Up(i)}function dw(i){const t=i.parts_.pop();i.byteLength_-=Fo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Up(i){if(i.byteLength_>Pf)throw new Error(i.errorPrefix_+"has a key path longer than "+Pf+" bytes ("+i.byteLength_+").");if(i.parts_.length>Rf)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rf+") or object contains a cycle "+Jn(i))}function Jn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}class Du extends Fp{constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Du}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}const Di=1e3,hw=300*1e3,Df=30*1e3,fw=1.3,pw=3e4,mw="server_kill",Af=3;class ln extends Lp{constructor(t,r,o,a,c,h,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=ln.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Di,this.maxReconnectDelay_=hw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Du.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&So.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(De(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Lo,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},h="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,p=>{const m=p.d,g=p.s;ln.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&cn(t,"w")){const o=Lr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||rv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Df)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=nv(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,h=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},h="n";a&&(c.q=o,c.t=a),this.sendRequest(h,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const h={p:r,d:o};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+De(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):uu("Unrecognized action received from server: "+De(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pw&&(this.reconnectDelay_=Di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+ln.nextConnectionId_++,c=this.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,o())},g=function(C){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(C)};this.realtime_={close:m,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,x]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=x&&x.token,p=new lw(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,L=>{ft(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(mw)},c))}catch(C){this.log_("Failed to get token: "+C),h||(this.repoInfo_.nodeAdmin&&ft(C),m())}}}interrupt(t){et("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){et("Resuming connection for reason: "+t),delete this.interruptReasons_[t],lf(this.interruptReasons_)&&(this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>xu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new ce(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){et("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Af&&(this.reconnectDelay_=Df,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){et("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Af&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+fp.replace(/\./g,"-")]=1,ip()?t["framework.cordova"]=1:K_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=So.getInstance().currentlyOnline();return lf(this.interruptReasons_)&&t}}ln.nextPersistentConnectionId_=0;ln.nextConnectionId_=0;class ne{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ne(t,r)}}class jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ne(Fr,t),a=new ne(Fr,r);return this.compare(o,a)!==0}minPost(){return ne.MIN}}let mo;class Bp extends jo{static get __EMPTY_NODE(){return mo}static set __EMPTY_NODE(t){mo=t}compare(t,r){return Br(t.name,r.name)}isDefinedOn(t){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ne.MIN}maxPost(){return new ne(tr,mo)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new ne(t,mo)}toString(){return".key"}}const Or=new Bp;class go{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=r?o(t.key,r):1,a&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class be{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??be.RED,this.left=a??ht.EMPTY_NODE,this.right=c??ht.EMPTY_NODE}copy(t,r,o,a,c){return new be(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ht.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}be.RED=!0;be.BLACK=!1;class gw{copy(t,r,o,a,c){return this}insert(t,r,o){return new be(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(t,r=ht.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ht(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,be.BLACK,null,null))}remove(t){return new ht(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,be.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new go(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new go(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}}ht.EMPTY_NODE=new gw;function _w(i,t){return Br(i.name,t.name)}function Au(i,t){return Br(i,t)}let du;function vw(i){du=i}const Wp=function(i){return typeof i=="number"?"number:"+vp(i):"string:"+i},Hp=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cn(t,".sv"),"Priority must be a string or number.")}else M(i===du||i.isEmpty(),"priority of unexpected type.");M(i===du||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mf;class ze{constructor(t,r=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hp(this.priorityNode_)}static set __childrenNodeConstructor(t){Mf=t}static get __childrenNodeConstructor(){return Mf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ze(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:te(t)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=te(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Ln(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=vp(this.value_):t+=this.value_,this.lazyHash_=mp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ze.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ze.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=ze.VALUE_TYPE_ORDER.indexOf(r),c=ze.VALUE_TYPE_ORDER.indexOf(o);return M(a>=0,"Unknown leaf type: "+r),M(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Vp,$p;function yw(i){Vp=i}function ww(i){$p=i}class Cw extends jo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?Br(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(tr,new ze("[PRIORITY-POST]",$p))}makePost(t,r){const o=Vp(t);return new ne(r,new ze("[PRIORITY-POST]",o))}toString(){return".priority"}}const Se=new Cw;const Ew=Math.log(2);class Sw{constructor(t){const r=c=>parseInt(Math.log(c)/Ew,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ko=function(i,t,r,o){i.sort(t);const a=function(m,g){const S=g-m;let C,x;if(S===0)return null;if(S===1)return C=i[m],x=r?r(C):C,new be(x,C.node,be.BLACK,null,null);{const L=parseInt(S/2,10)+m,O=a(m,L),H=a(L+1,g);return C=i[L],x=r?r(C):C,new be(x,C.node,be.BLACK,O,H)}},c=function(m){let g=null,S=null,C=i.length;const x=function(O,H){const K=C-O,Oe=C;C-=O;const We=a(K+1,Oe),He=i[K],xe=r?r(He):He;L(new be(xe,He.node,H,null,We))},L=function(O){g?(g.left=O,g=O):(S=O,g=O)};for(let O=0;O<m.count;++O){const H=m.nextBitIsOne(),K=Math.pow(2,m.count-(O+1));H?x(K,be.BLACK):(x(K,be.BLACK),x(K,be.RED))}return S},h=new Sw(i.length),p=c(h);return new ht(o||t,p)};let Ja;const Pr={};class on{constructor(t,r){this.indexes_=t,this.indexSet_=r}static get Default(){return M(Pr&&Se,"ChildrenNode.ts has not been loaded"),Ja=Ja||new on({".priority":Pr},{".priority":Se}),Ja}get(t){const r=Lr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ht?r:null}hasIndex(t){return cn(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(ne.Wrap);let h=c.getNext();for(;h;)a=a||t.isDefinedOn(h.node),o.push(h),h=c.getNext();let p;a?p=ko(o,t.getCompare()):p=Pr;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const S=Object.assign({},this.indexes_);return S[m]=p,new on(S,g)}addToIndexes(t,r){const o=yo(this.indexes_,(a,c)=>{const h=Lr(this.indexSet_,c);if(M(h,"Missing index implementation for "+c),a===Pr)if(h.isDefinedOn(t.node)){const p=[],m=r.getIterator(ne.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),ko(p,h.getCompare())}else return Pr;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new ne(t.name,p))),m.insert(t,t.node)}});return new on(o,this.indexSet_)}removeFromIndexes(t,r){const o=yo(this.indexes_,a=>{if(a===Pr)return a;{const c=r.get(t.name);return c?a.remove(new ne(t.name,c)):a}});return new on(o,this.indexSet_)}}let Ai;class Q{constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Hp(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ai||(Ai=new Q(new ht(Au),null,on.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ai}updatePriority(t){return this.children_.isEmpty()?this:new Q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Ai:r}}getChild(t){const r=te(t);return r===null?this:this.getImmediateChild(r).getChild(fe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ne(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const h=a.isEmpty()?Ai:this.priorityNode_;return new Q(a,h,c)}}updateChild(t,r){const o=te(t);if(o===null)return r;{M(te(t)!==".priority"||Ln(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(fe(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Se,(h,p)=>{r[h]=p.val(t),o++,c&&Q.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):c=!1}),!t&&c&&a<2*o){const h=[];for(const p in r)h[p]=r[p];return h}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Wp(this.getPriority().val())+":"),this.forEachChild(Se,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":mp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new ne(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ne(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ne(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ne.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ne.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zi?-1:0}withIndex(t){if(t===Or||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Or||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Se),a=r.getIterator(Se);let c=o.getNext(),h=a.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=o.getNext(),h=a.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===Or?null:this.indexMap_.get(t.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kw extends Q{constructor(){super(new ht(Au),Q.EMPTY_NODE,on.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}}const Zi=new kw;Object.defineProperties(ne,{MIN:{value:new ne(Fr,Q.EMPTY_NODE)},MAX:{value:new ne(tr,Zi)}});Bp.__EMPTY_NODE=Q.EMPTY_NODE;ze.__childrenNodeConstructor=Q;vw(Zi);ww(Zi);const Nw=!0;function Ue(i,t=null){if(i===null)return Q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new ze(r,Ue(t))}if(!(i instanceof Array)&&Nw){const r=[];let o=!1;if(pt(i,(h,p)=>{if(h.substring(0,1)!=="."){const m=Ue(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ne(h,m)))}}),r.length===0)return Q.EMPTY_NODE;const c=ko(r,_w,h=>h.name,Au);if(o){const h=ko(r,Se.getCompare());return new Q(c,Ue(t),new on({".priority":h},{".priority":Se}))}else return new Q(c,Ue(t),on.Default)}else{let r=Q.EMPTY_NODE;return pt(i,(o,a)=>{if(cn(i,o)&&o.substring(0,1)!=="."){const c=Ue(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ue(t))}}yw(Ue);class xw extends jo{constructor(t){super(),this.indexPath_=t,M(!re(t)&&te(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?Br(t.name,r.name):c}makePost(t,r){const o=Ue(t),a=Q.EMPTY_NODE.updateChild(this.indexPath_,o);return new ne(r,a)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new ne(tr,t)}toString(){return zp(this.indexPath_,0).join("/")}}class Iw extends jo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Br(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(t,r){const o=Ue(t);return new ne(r,o)}toString(){return".value"}}const Tw=new Iw;function Gp(i){return{type:"value",snapshotNode:i}}function jr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Hi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Vi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function Rw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}class Mu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,h){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(h!=null&&(o.isEmpty()?t.hasChild(r)?h.trackChildChange(Hi(r,p)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(jr(r,o)):h.trackChildChange(Vi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Se,(a,c)=>{r.hasChild(a)||o.trackChildChange(Hi(a,c))}),r.isLeafNode()||r.forEachChild(Se,(a,c)=>{if(t.hasChild(a)){const h=t.getImmediateChild(a);h.equals(c)||o.trackChildChange(Vi(a,c,h))}else o.trackChildChange(jr(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $i{constructor(t){this.indexedFilter_=new Mu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$i.getStartPost_(t),this.endPost_=$i.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,h){return this.matches(new ne(r,o))||(o=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,h)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Q.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(Q.EMPTY_NODE);const c=this;return r.forEachChild(Se,(h,p)=>{c.matches(new ne(h,p))||(a=a.updateImmediateChild(h,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}class Pw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new $i(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,h){return this.rangedFilter_.matches(new ne(r,o))||(o=Q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,h):this.fullLimitUpdateChild_(t,r,o,c,h)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=Q.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(Q.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let h=0;for(;c.hasNext();){const p=c.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:a=a.updateImmediateChild(p.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let h;if(this.reverse_){const C=this.index_.getCompare();h=(x,L)=>C(L,x)}else h=this.index_.getCompare();const p=t;M(p.numChildren()===this.limit_,"");const m=new ne(r,o),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(m);if(p.hasChild(r)){const C=p.getImmediateChild(r);let x=a.getChildAfterChild(this.index_,g,this.reverse_);for(;x!=null&&(x.name===r||p.hasChild(x.name));)x=a.getChildAfterChild(this.index_,x,this.reverse_);const L=x==null?1:h(x,m);if(S&&!o.isEmpty()&&L>=0)return c?.trackChildChange(Vi(r,o,C)),p.updateImmediateChild(r,o);{c?.trackChildChange(Hi(r,C));const H=p.updateImmediateChild(r,Q.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(c?.trackChildChange(jr(x.name,x.node)),H.updateImmediateChild(x.name,x.node)):H}}else return o.isEmpty()?t:S&&h(g,m)>=0?(c!=null&&(c.trackChildChange(Hi(g.name,g.node)),c.trackChildChange(jr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(g.name,Q.EMPTY_NODE)):t}}class Ou{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new Ou;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Dw(i){return i.loadsAllData()?new Mu(i.getIndex()):i.hasLimit()?new Pw(i):new $i(i)}function Of(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Se?r="$priority":i.index_===Tw?r="$value":i.index_===Or?r="$key":(M(i.index_ instanceof xw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=De(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=De(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+De(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=De(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+De(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Lf(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Se&&(t.i=i.index_.toString()),t}class No extends Lp{constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Ji("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=No.getListenId_(t,o),p={};this.listens_[h]=p;const m=Of(t._queryParams);this.restRequest_(c+".json",m,(g,S)=>{let C=S;if(g===404&&(C=null,g=null),g===null&&this.onDataUpdate_(c,C,!1,o),Lr(this.listens_,h)===p){let x;g?g===401?x="permission_denied":x="rest_error:"+g:x="ok",a(x,null)}})}unlisten(t,r){const o=No.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Of(t._queryParams),o=t._path.toString(),a=new Lo;return this.restRequest_(o+".json",r,(c,h)=>{let p=h;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+iv(r);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=bi(p.responseText)}catch{ft("Failed to parse JSON response for "+h+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ft("Got unsuccessful REST response for "+h+" Status: "+p.status),o(p.status);o=null}},p.open("GET",h,!0),p.send()})}}class Aw{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}function xo(){return{value:null,children:new Map}}function Qp(i,t,r){if(re(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=te(t);i.children.has(o)||i.children.set(o,xo());const a=i.children.get(o);t=fe(t),Qp(a,t,r)}}function hu(i,t,r){i.value!==null?r(t,i.value):Mw(i,(o,a)=>{const c=new ce(t.toString()+"/"+o);hu(a,c,r)})}function Mw(i,t){i.children.forEach((r,o)=>{t(o,r)})}class Ow{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&pt(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}const Ff=10*1e3,Lw=30*1e3,Fw=300*1e3;class jw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Ow(t);const o=Ff+(Lw-Ff)*Math.random();Li(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;pt(t,(a,c)=>{c>0&&cn(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*Fw))}}var Bt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bt||(Bt={}));function Yp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Io{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Bt.ACK_USER_WRITE,this.source=Yp()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ce(t));return new Io(ae(),r,this.revert)}}else return M(te(this.path)===t,"operationForChild called for unrelated child."),new Io(fe(this.path),this.affectedTree,this.revert)}}class Gi{constructor(t,r){this.source=t,this.path=r,this.type=Bt.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new Gi(this.source,ae()):new Gi(this.source,fe(this.path))}}class nr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Bt.OVERWRITE}operationForChild(t){return re(this.path)?new nr(this.source,ae(),this.snap.getImmediateChild(t)):new nr(this.source,fe(this.path),this.snap)}}class Qi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Bt.MERGE}operationForChild(t){if(re(this.path)){const r=this.children.subtree(new ce(t));return r.isEmpty()?null:r.value?new nr(this.source,ae(),r.value):new Qi(this.source,ae(),r)}else return M(te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qi(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const r=te(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class zw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function bw(i,t,r,o){const a=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&i.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(Rw(h.childName,h.snapshotNode))}),Mi(i,a,"child_removed",t,o,r),Mi(i,a,"child_added",t,o,r),Mi(i,a,"child_moved",c,o,r),Mi(i,a,"child_changed",t,o,r),Mi(i,a,"value",t,o,r),a}function Mi(i,t,r,o,a,c){const h=o.filter(p=>p.type===r);h.sort((p,m)=>Bw(i,p,m)),h.forEach(p=>{const m=Uw(i,p,c);a.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function Uw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Bw(i,t,r){if(t.childName==null||r.childName==null)throw br("Should only compare child_ events.");const o=new ne(t.childName,t.snapshotNode),a=new ne(r.childName,r.snapshotNode);return i.index_.compare(o,a)}function zo(i,t){return{eventCache:i,serverCache:t}}function Fi(i,t,r,o){return zo(new Fn(t,r,o),i.serverCache)}function Kp(i,t,r,o){return zo(i.eventCache,new Fn(t,r,o))}function To(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function rr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Za;const Ww=()=>(Za||(Za=new ht(Iy)),Za);class _e{constructor(t,r=Ww()){this.value=t,this.children=r}static fromObject(t){let r=new _e(null);return pt(t,(o,a)=>{r=r.set(new ce(o),a)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ae(),value:this.value};if(re(t))return null;{const o=te(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(fe(t),r);return c!=null?{path:Ae(new ce(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const r=te(t),o=this.children.get(r);return o!==null?o.subtree(fe(t)):new _e(null)}}set(t,r){if(re(t))return new _e(r,this.children);{const o=te(t),c=(this.children.get(o)||new _e(null)).set(fe(t),r),h=this.children.insert(o,c);return new _e(this.value,h)}}remove(t){if(re(t))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const r=te(t),o=this.children.get(r);if(o){const a=o.remove(fe(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new _e(null):new _e(this.value,c)}else return this}}get(t){if(re(t))return this.value;{const r=te(t),o=this.children.get(r);return o?o.get(fe(t)):null}}setTree(t,r){if(re(t))return r;{const o=te(t),c=(this.children.get(o)||new _e(null)).setTree(fe(t),r);let h;return c.isEmpty()?h=this.children.remove(o):h=this.children.insert(o,c),new _e(this.value,h)}}fold(t){return this.fold_(ae(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Ae(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ae(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(re(t))return null;{const c=te(t),h=this.children.get(c);return h?h.findOnPath_(fe(t),Ae(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ae(),r)}foreachOnPath_(t,r,o){if(re(t))return this;{this.value&&o(r,this.value);const a=te(t),c=this.children.get(a);return c?c.foreachOnPath_(fe(t),Ae(r,a),o):new _e(null)}}foreach(t){this.foreach_(ae(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Ae(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}class Wt{constructor(t){this.writeTree_=t}static empty(){return new Wt(new _e(null))}}function ji(i,t,r){if(re(t))return new Wt(new _e(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const h=it(a,t);return c=c.updateChild(h,r),new Wt(i.writeTree_.set(a,c))}else{const a=new _e(r),c=i.writeTree_.setTree(t,a);return new Wt(c)}}}function jf(i,t,r){let o=i;return pt(r,(a,c)=>{o=ji(o,Ae(t,a),c)}),o}function zf(i,t){if(re(t))return Wt.empty();{const r=i.writeTree_.setTree(t,new _e(null));return new Wt(r)}}function fu(i,t){return ir(i,t)!=null}function ir(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(it(r.path,t)):null}function bf(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Se,(o,a)=>{t.push(new ne(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new ne(o,a.value))}),t}function Mn(i,t){if(re(t))return i;{const r=ir(i,t);return r!=null?new Wt(new _e(r)):new Wt(i.writeTree_.subtree(t))}}function pu(i){return i.writeTree_.isEmpty()}function zr(i,t){return qp(ae(),i.writeTree_,t)}function qp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=qp(Ae(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Ae(i,".priority"),o)),r}}function bo(i,t){return em(t,i)}function Hw(i,t,r,o,a){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=ji(i.visibleWrites,t,r)),i.lastWriteId=o}function Vw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function $w(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,h=i.allWrites.length-1;for(;a&&h>=0;){const p=i.allWrites[h];p.visible&&(h>=r&&Gw(p,o.path)?a=!1:Ut(o.path,p.path)&&(c=!0)),h--}if(a){if(c)return Qw(i),!0;if(o.snap)i.visibleWrites=zf(i.visibleWrites,o.path);else{const p=o.children;pt(p,m=>{i.visibleWrites=zf(i.visibleWrites,Ae(o.path,m))})}return!0}else return!1}function Gw(i,t){if(i.snap)return Ut(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ut(Ae(i.path,r),t))return!0;return!1}function Qw(i){i.visibleWrites=Xp(i.allWrites,Yw,ae()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Yw(i){return i.visible}function Xp(i,t,r){let o=Wt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const h=c.path;let p;if(c.snap)Ut(r,h)?(p=it(r,h),o=ji(o,p,c.snap)):Ut(h,r)&&(p=it(h,r),o=ji(o,ae(),c.snap.getChild(p)));else if(c.children){if(Ut(r,h))p=it(r,h),o=jf(o,p,c.children);else if(Ut(h,r))if(p=it(h,r),re(p))o=jf(o,ae(),c.children);else{const m=Lr(c.children,te(p));if(m){const g=m.getChild(fe(p));o=ji(o,ae(),g)}}}else throw br("WriteRecord should have .snap or .children")}}return o}function Jp(i,t,r,o,a){if(!o&&!a){const c=ir(i.visibleWrites,t);if(c!=null)return c;{const h=Mn(i.visibleWrites,t);if(pu(h))return r;if(r==null&&!fu(h,ae()))return null;{const p=r||Q.EMPTY_NODE;return zr(h,p)}}}else{const c=Mn(i.visibleWrites,t);if(!a&&pu(c))return r;if(!a&&r==null&&!fu(c,ae()))return null;{const h=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(Ut(g.path,t)||Ut(t,g.path))},p=Xp(i.allWrites,h,t),m=r||Q.EMPTY_NODE;return zr(p,m)}}}function Kw(i,t,r){let o=Q.EMPTY_NODE;const a=ir(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Se,(c,h)=>{o=o.updateImmediateChild(c,h)}),o;if(r){const c=Mn(i.visibleWrites,t);return r.forEachChild(Se,(h,p)=>{const m=zr(Mn(c,new ce(h)),p);o=o.updateImmediateChild(h,m)}),bf(c).forEach(h=>{o=o.updateImmediateChild(h.name,h.node)}),o}else{const c=Mn(i.visibleWrites,t);return bf(c).forEach(h=>{o=o.updateImmediateChild(h.name,h.node)}),o}}function qw(i,t,r,o,a){M(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Ae(t,r);if(fu(i.visibleWrites,c))return null;{const h=Mn(i.visibleWrites,c);return pu(h)?a.getChild(r):zr(h,a.getChild(r))}}function Xw(i,t,r,o){const a=Ae(t,r),c=ir(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const h=Mn(i.visibleWrites,a);return zr(h,o.getNode().getImmediateChild(r))}else return null}function Jw(i,t){return ir(i.visibleWrites,t)}function Zw(i,t,r,o,a,c,h){let p;const m=Mn(i.visibleWrites,t),g=ir(m,ae());if(g!=null)p=g;else if(r!=null)p=zr(m,r);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const S=[],C=h.getCompare(),x=c?p.getReverseIteratorFrom(o,h):p.getIteratorFrom(o,h);let L=x.getNext();for(;L&&S.length<a;)C(L,o)!==0&&S.push(L),L=x.getNext();return S}else return[]}function eC(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function Ro(i,t,r,o){return Jp(i.writeTree,i.treePath,t,r,o)}function ju(i,t){return Kw(i.writeTree,i.treePath,t)}function Uf(i,t,r,o){return qw(i.writeTree,i.treePath,t,r,o)}function Po(i,t){return Jw(i.writeTree,Ae(i.treePath,t))}function tC(i,t,r,o,a,c){return Zw(i.writeTree,i.treePath,t,r,o,a,c)}function zu(i,t,r){return Xw(i.writeTree,i.treePath,t,r)}function Zp(i,t){return em(Ae(i.treePath,t),i.writeTree)}function em(i,t){return{treePath:i,writeTree:t}}class nC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Vi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Hi(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,jr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Vi(o,t.snapshotNode,a.oldSnap));else throw br("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}class rC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const tm=new rC;class bu{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rr(this.viewCache_),c=tC(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}function iC(i){return{filter:i}}function sC(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function oC(i,t,r,o,a){const c=new nC;let h,p;if(r.type===Bt.OVERWRITE){const g=r;g.source.fromUser?h=mu(i,t,g.path,g.snap,o,a,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!re(g.path),h=Do(i,t,g.path,g.snap,o,a,p,c))}else if(r.type===Bt.MERGE){const g=r;g.source.fromUser?h=aC(i,t,g.path,g.children,o,a,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),h=gu(i,t,g.path,g.children,o,a,p,c))}else if(r.type===Bt.ACK_USER_WRITE){const g=r;g.revert?h=dC(i,t,g.path,o,a,c):h=uC(i,t,g.path,g.affectedTree,o,a,c)}else if(r.type===Bt.LISTEN_COMPLETE)h=cC(i,t,r.path,o,c);else throw br("Unknown operation type: "+r.type);const m=c.getChanges();return lC(t,h,m),{viewCache:h,changes:m}}function lC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=To(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Gp(To(t)))}}function nm(i,t,r,o,a,c){const h=t.eventCache;if(Po(o,r)!=null)return t;{let p,m;if(re(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=rr(t),S=g instanceof Q?g:Q.EMPTY_NODE,C=ju(o,S);p=i.filter.updateFullNode(t.eventCache.getNode(),C,c)}else{const g=Ro(o,rr(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=te(r);if(g===".priority"){M(Ln(r)===1,"Can't have a priority with additional path components");const S=h.getNode();m=t.serverCache.getNode();const C=Uf(o,r,S,m);C!=null?p=i.filter.updatePriority(S,C):p=h.getNode()}else{const S=fe(r);let C;if(h.isCompleteForChild(g)){m=t.serverCache.getNode();const x=Uf(o,r,h.getNode(),m);x!=null?C=h.getNode().getImmediateChild(g).updateChild(S,x):C=h.getNode().getImmediateChild(g)}else C=zu(o,g,t.serverCache);C!=null?p=i.filter.updateChild(h.getNode(),g,C,S,a,c):p=h.getNode()}}return Fi(t,p,h.isFullyInitialized()||re(r),i.filter.filtersNodes())}}function Do(i,t,r,o,a,c,h,p){const m=t.serverCache;let g;const S=h?i.filter:i.filter.getIndexedFilter();if(re(r))g=S.updateFullNode(m.getNode(),o,null);else if(S.filtersNodes()&&!m.isFiltered()){const L=m.getNode().updateChild(r,o);g=S.updateFullNode(m.getNode(),L,null)}else{const L=te(r);if(!m.isCompleteForPath(r)&&Ln(r)>1)return t;const O=fe(r),K=m.getNode().getImmediateChild(L).updateChild(O,o);L===".priority"?g=S.updatePriority(m.getNode(),K):g=S.updateChild(m.getNode(),L,K,O,tm,null)}const C=Kp(t,g,m.isFullyInitialized()||re(r),S.filtersNodes()),x=new bu(a,C,c);return nm(i,C,r,a,x,p)}function mu(i,t,r,o,a,c,h){const p=t.eventCache;let m,g;const S=new bu(a,t,c);if(re(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,h),m=Fi(t,g,!0,i.filter.filtersNodes());else{const C=te(r);if(C===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Fi(t,g,p.isFullyInitialized(),p.isFiltered());else{const x=fe(r),L=p.getNode().getImmediateChild(C);let O;if(re(x))O=o;else{const H=S.getCompleteChild(C);H!=null?jp(x)===".priority"&&H.getChild(bp(x)).isEmpty()?O=H:O=H.updateChild(x,o):O=Q.EMPTY_NODE}if(L.equals(O))m=t;else{const H=i.filter.updateChild(p.getNode(),C,O,x,S,h);m=Fi(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Bf(i,t){return i.eventCache.isCompleteForChild(t)}function aC(i,t,r,o,a,c,h){let p=t;return o.foreach((m,g)=>{const S=Ae(r,m);Bf(t,te(S))&&(p=mu(i,p,S,g,a,c,h))}),o.foreach((m,g)=>{const S=Ae(r,m);Bf(t,te(S))||(p=mu(i,p,S,g,a,c,h))}),p}function Wf(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function gu(i,t,r,o,a,c,h,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;re(r)?g=o:g=new _e(null).setTree(r,o);const S=t.serverCache.getNode();return g.children.inorderTraversal((C,x)=>{if(S.hasChild(C)){const L=t.serverCache.getNode().getImmediateChild(C),O=Wf(i,L,x);m=Do(i,m,new ce(C),O,a,c,h,p)}}),g.children.inorderTraversal((C,x)=>{const L=!t.serverCache.isCompleteForChild(C)&&x.value===null;if(!S.hasChild(C)&&!L){const O=t.serverCache.getNode().getImmediateChild(C),H=Wf(i,O,x);m=Do(i,m,new ce(C),H,a,c,h,p)}}),m}function uC(i,t,r,o,a,c,h){if(Po(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(re(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Do(i,t,r,m.getNode().getChild(r),a,c,p,h);if(re(r)){let g=new _e(null);return m.getNode().forEachChild(Or,(S,C)=>{g=g.set(new ce(S),C)}),gu(i,t,r,g,a,c,p,h)}else return t}else{let g=new _e(null);return o.foreach((S,C)=>{const x=Ae(r,S);m.isCompleteForPath(x)&&(g=g.set(S,m.getNode().getChild(x)))}),gu(i,t,r,g,a,c,p,h)}}function cC(i,t,r,o,a){const c=t.serverCache,h=Kp(t,c.getNode(),c.isFullyInitialized()||re(r),c.isFiltered());return nm(i,h,r,o,tm,a)}function dC(i,t,r,o,a,c){let h;if(Po(o,r)!=null)return t;{const p=new bu(o,t,a),m=t.eventCache.getNode();let g;if(re(r)||te(r)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=Ro(o,rr(t));else{const C=t.serverCache.getNode();M(C instanceof Q,"serverChildren would be complete if leaf node"),S=ju(o,C)}S=S,g=i.filter.updateFullNode(m,S,c)}else{const S=te(r);let C=zu(o,S,t.serverCache);C==null&&t.serverCache.isCompleteForChild(S)&&(C=m.getImmediateChild(S)),C!=null?g=i.filter.updateChild(m,S,C,fe(r),p,c):t.eventCache.getNode().hasChild(S)?g=i.filter.updateChild(m,S,Q.EMPTY_NODE,fe(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Ro(o,rr(t)),h.isLeafNode()&&(g=i.filter.updateFullNode(g,h,c)))}return h=t.serverCache.isFullyInitialized()||Po(o,ae())!=null,Fi(t,g,h,i.filter.filtersNodes())}}class hC{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Mu(o.getIndex()),c=Dw(o);this.processor_=iC(c);const h=r.serverCache,p=r.eventCache,m=a.updateFullNode(Q.EMPTY_NODE,h.getNode(),null),g=c.updateFullNode(Q.EMPTY_NODE,p.getNode(),null),S=new Fn(m,h.isFullyInitialized(),a.filtersNodes()),C=new Fn(g,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=zo(C,S),this.eventGenerator_=new zw(this.query_)}get query(){return this.query_}}function fC(i){return i.viewCache_.serverCache.getNode()}function pC(i){return To(i.viewCache_)}function mC(i,t){const r=rr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!re(t)&&!r.getImmediateChild(te(t)).isEmpty())?r.getChild(t):null}function Hf(i){return i.eventRegistrations_.length===0}function gC(i,t){i.eventRegistrations_.push(t)}function Vf(i,t,r){const o=[];if(r){M(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(r,a);h&&o.push(h)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const h=i.eventRegistrations_[c];if(!h.matches(t))a.push(h);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function $f(i,t,r,o){t.type===Bt.MERGE&&t.source.queryId!==null&&(M(rr(i.viewCache_),"We should always have a full cache before handling merges"),M(To(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=oC(i.processor_,a,t,r,o);return sC(i.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,rm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function _C(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Se,(c,h)=>{o.push(jr(c,h))}),r.isFullyInitialized()&&o.push(Gp(r.getNode())),rm(i,o,r.getNode(),t)}function rm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return bw(i.eventGenerator_,t,r,a)}let Ao;class im{constructor(){this.views=new Map}}function vC(i){M(!Ao,"__referenceConstructor has already been defined"),Ao=i}function yC(){return M(Ao,"Reference.ts has not been loaded"),Ao}function wC(i){return i.views.size===0}function Uu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return M(c!=null,"SyncTree gave us an op for an invalid query."),$f(c,t,r,o)}else{let c=[];for(const h of i.views.values())c=c.concat($f(h,t,r,o));return c}}function sm(i,t,r,o,a){const c=t._queryIdentifier,h=i.views.get(c);if(!h){let p=Ro(r,a?o:null),m=!1;p?m=!0:o instanceof Q?(p=ju(r,o),m=!1):(p=Q.EMPTY_NODE,m=!1);const g=zo(new Fn(p,m,!1),new Fn(o,a,!1));return new hC(t,g)}return h}function CC(i,t,r,o,a,c){const h=sm(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,h),gC(h,r),_C(h,r)}function EC(i,t,r,o){const a=t._queryIdentifier,c=[];let h=[];const p=jn(i);if(a==="default")for(const[m,g]of i.views.entries())h=h.concat(Vf(g,r,o)),Hf(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(a);m&&(h=h.concat(Vf(m,r,o)),Hf(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!jn(i)&&c.push(new(yC())(t._repo,t._path)),{removed:c,events:h}}function om(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function On(i,t){let r=null;for(const o of i.views.values())r=r||mC(o,t);return r}function lm(i,t){if(t._queryParams.loadsAllData())return Uo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function am(i,t){return lm(i,t)!=null}function jn(i){return Uo(i)!=null}function Uo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Mo;function SC(i){M(!Mo,"__referenceConstructor has already been defined"),Mo=i}function kC(){return M(Mo,"Reference.ts has not been loaded"),Mo}let NC=1;class Gf{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _e(null),this.pendingWriteTree_=eC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function um(i,t,r,o,a){return Hw(i.pendingWriteTree_,t,r,o,a),a?ts(i,new nr(Yp(),t,r)):[]}function er(i,t,r=!1){const o=Vw(i.pendingWriteTree_,t);if($w(i.pendingWriteTree_,t)){let c=new _e(null);return o.snap!=null?c=c.set(ae(),!0):pt(o.children,h=>{c=c.set(new ce(h),!0)}),ts(i,new Io(o.path,c,r))}else return[]}function es(i,t,r){return ts(i,new nr(Lu(),t,r))}function xC(i,t,r){const o=_e.fromObject(r);return ts(i,new Qi(Lu(),t,o))}function IC(i,t){return ts(i,new Gi(Lu(),t))}function TC(i,t,r){const o=Wu(i,r);if(o){const a=Hu(o),c=a.path,h=a.queryId,p=it(c,t),m=new Gi(Fu(h),p);return Vu(i,c,m)}else return[]}function Oo(i,t,r,o,a=!1){const c=t._path,h=i.syncPointTree_.get(c);let p=[];if(h&&(t._queryIdentifier==="default"||am(h,t))){const m=EC(h,t,r,o);wC(h)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(p=m.events,!a){const S=g.findIndex(x=>x._queryParams.loadsAllData())!==-1,C=i.syncPointTree_.findOnPath(c,(x,L)=>jn(L));if(S&&!C){const x=i.syncPointTree_.subtree(c);if(!x.isEmpty()){const L=DC(x);for(let O=0;O<L.length;++O){const H=L[O],K=H.query,Oe=fm(i,H);i.listenProvider_.startListening(zi(K),Yi(i,K),Oe.hashFn,Oe.onComplete)}}}!C&&g.length>0&&!o&&(S?i.listenProvider_.stopListening(zi(t),null):g.forEach(x=>{const L=i.queryToTagMap.get(Bo(x));i.listenProvider_.stopListening(zi(x),L)}))}AC(i,g)}return p}function cm(i,t,r,o){const a=Wu(i,o);if(a!=null){const c=Hu(a),h=c.path,p=c.queryId,m=it(h,t),g=new nr(Fu(p),m,r);return Vu(i,h,g)}else return[]}function RC(i,t,r,o){const a=Wu(i,o);if(a){const c=Hu(a),h=c.path,p=c.queryId,m=it(h,t),g=_e.fromObject(r),S=new Qi(Fu(p),m,g);return Vu(i,h,S)}else return[]}function _u(i,t,r,o=!1){const a=t._path;let c=null,h=!1;i.syncPointTree_.foreachOnPath(a,(x,L)=>{const O=it(x,a);c=c||On(L,O),h=h||jn(L)});let p=i.syncPointTree_.get(a);p?(h=h||jn(p),c=c||On(p,ae())):(p=new im,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=Q.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((L,O)=>{const H=On(O,ae());H&&(c=c.updateImmediateChild(L,H))}));const g=am(p,t);if(!g&&!t._queryParams.loadsAllData()){const x=Bo(t);M(!i.queryToTagMap.has(x),"View does not exist, but we have a tag");const L=MC();i.queryToTagMap.set(x,L),i.tagToQueryMap.set(L,x)}const S=bo(i.pendingWriteTree_,a);let C=CC(p,t,r,S,c,m);if(!g&&!h&&!o){const x=lm(p,t);C=C.concat(OC(i,t,x))}return C}function Bu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(h,p)=>{const m=it(h,t),g=On(p,m);if(g)return g});return Jp(a,t,c,r,!0)}function PC(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(g,S)=>{const C=it(g,r);o=o||On(S,C)});let a=i.syncPointTree_.get(r);a?o=o||On(a,ae()):(a=new im,i.syncPointTree_=i.syncPointTree_.set(r,a));const c=o!=null,h=c?new Fn(o,!0,!1):null,p=bo(i.pendingWriteTree_,t._path),m=sm(a,t,p,c?h.getNode():Q.EMPTY_NODE,c);return pC(m)}function ts(i,t){return dm(t,i.syncPointTree_,null,bo(i.pendingWriteTree_,ae()))}function dm(i,t,r,o){if(re(i.path))return hm(i,t,r,o);{const a=t.get(ae());r==null&&a!=null&&(r=On(a,ae()));let c=[];const h=te(i.path),p=i.operationForChild(h),m=t.children.get(h);if(m&&p){const g=r?r.getImmediateChild(h):null,S=Zp(o,h);c=c.concat(dm(p,m,g,S))}return a&&(c=c.concat(Uu(a,i,o,r))),c}}function hm(i,t,r,o){const a=t.get(ae());r==null&&a!=null&&(r=On(a,ae()));let c=[];return t.children.inorderTraversal((h,p)=>{const m=r?r.getImmediateChild(h):null,g=Zp(o,h),S=i.operationForChild(h);S&&(c=c.concat(hm(S,p,m,g)))}),a&&(c=c.concat(Uu(a,i,o,r))),c}function fm(i,t){const r=t.query,o=Yi(i,r);return{hashFn:()=>(fC(t)||Q.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?TC(i,r._path,o):IC(i,r._path);{const c=Py(a,r);return Oo(i,r,null,c)}}}}function Yi(i,t){const r=Bo(t);return i.queryToTagMap.get(r)}function Bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Wu(i,t){return i.tagToQueryMap.get(t)}function Hu(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ce(i.substr(0,t))}}function Vu(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const a=bo(i.pendingWriteTree_,t);return Uu(o,r,a,null)}function DC(i){return i.fold((t,r,o)=>{if(r&&jn(r))return[Uo(r)];{let a=[];return r&&(a=om(r)),pt(o,(c,h)=>{a=a.concat(h)}),a}})}function zi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(kC())(i._repo,i._path):i}function AC(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Bo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function MC(){return NC++}function OC(i,t,r){const o=t._path,a=Yi(i,t),c=fm(i,r),h=i.listenProvider_.startListening(zi(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)M(!jn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,S,C)=>{if(!re(g)&&S&&jn(S))return[Uo(S).query];{let x=[];return S&&(x=x.concat(om(S).map(L=>L.query))),pt(C,(L,O)=>{x=x.concat(O)}),x}});for(let g=0;g<m.length;++g){const S=m[g];i.listenProvider_.stopListening(zi(S),Yi(i,S))}}return h}class $u{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new $u(r)}node(){return this.node_}}class Gu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Ae(this.path_,t);return new Gu(this.syncTree_,r)}node(){return Bu(this.syncTree_,this.path_)}}const LC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Qf=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return FC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return jC(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},FC=function(i,t,r){if(i==="timestamp")return r.timestamp;M(!1,"Unexpected server value: "+i)},jC=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const a=t.node();if(M(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const h=a.getValue();return typeof h!="number"?o:h+o},zC=function(i,t,r,o){return Qu(t,new Gu(r,i),o)},pm=function(i,t,r){return Qu(i,new $u(t),r)};function Qu(i,t,r){const o=i.getPriority().val(),a=Qf(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const h=i,p=Qf(h.getValue(),t,r);return p!==h.getValue()||a!==h.getPriority().val()?new ze(p,Ue(a)):i}else{const h=i;return c=h,a!==h.getPriority().val()&&(c=c.updatePriority(new ze(a))),h.forEachChild(Se,(p,m)=>{const g=Qu(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}class Yu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Ku(i,t){let r=t instanceof ce?t:new ce(t),o=i,a=te(r);for(;a!==null;){const c=Lr(o.node.children,a)||{children:{},childCount:0};o=new Yu(a,o,c),r=fe(r),a=te(r)}return o}function Hr(i){return i.node.value}function mm(i,t){i.node.value=t,vu(i)}function gm(i){return i.node.childCount>0}function bC(i){return Hr(i)===void 0&&!gm(i)}function Wo(i,t){pt(i.node.children,(r,o)=>{t(new Yu(r,i,o))})}function _m(i,t,r,o){r&&t(i),Wo(i,a=>{_m(a,t,!0)})}function UC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ns(i){return new ce(i.parent===null?i.name:ns(i.parent)+"/"+i.name)}function vu(i){i.parent!==null&&BC(i.parent,i.name,i)}function BC(i,t,r){const o=bC(r),a=cn(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,vu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,vu(i))}const WC=/[\[\].#$\/\u0000-\u001F\u007F]/,HC=/[\[\].#$\u0000-\u001F\u007F]/,eu=10*1024*1024,vm=function(i){return typeof i=="string"&&i.length!==0&&!WC.test(i)},ym=function(i){return typeof i=="string"&&i.length!==0&&!HC.test(i)},VC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ym(i)},$C=function(i,t,r,o){qu(ku(i,"value"),t,r)},qu=function(i,t,r){const o=r instanceof ce?new uw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Jn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Jn(o)+" with contents = "+t.toString());if(gp(t))throw new Error(i+"contains "+t.toString()+" "+Jn(o));if(typeof t=="string"&&t.length>eu/3&&Fo(t)>eu)throw new Error(i+"contains a string greater than "+eu+" utf8 bytes "+Jn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(pt(t,(h,p)=>{if(h===".value")a=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!vm(h)))throw new Error(i+" contains an invalid key ("+h+") "+Jn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cw(o,h),qu(i,p,o),dw(o)}),a&&c)throw new Error(i+' contains ".value" child '+Jn(o)+" in addition to actual children.")}},wm=function(i,t,r,o){if(!ym(r))throw new Error(ku(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),wm(i,t,r)},QC=function(i,t){if(te(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},YC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!vm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!VC(r))throw new Error(ku(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class KC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xu(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Pu(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Cm(i,t,r){Xu(i,r),Em(i,o=>Pu(o,t))}function Kt(i,t,r){Xu(i,r),Em(i,o=>Ut(o,t)||Ut(t,o))}function Em(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(qC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function qC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Oi&&et("event: "+r.toString()),Wr(o)}}}const XC="repo_interrupt",JC=25;class ZC{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xo(),this.transactionQueueTree_=new Yu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function e0(i,t,r){if(i.stats_=Tu(i.repoInfo_),i.forceRestClient_||Oy())i.server_=new No(i.repoInfo_,(o,a,c,h)=>{Yf(i,o,a,c,h)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Kf(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ln(i.repoInfo_,t,(o,a,c,h)=>{Yf(i,o,a,c,h)},o=>{Kf(i,o)},o=>{n0(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=by(i.repoInfo_,()=>new jw(i.stats_,i.server_)),i.infoData_=new Aw,i.infoSyncTree_=new Gf({startListening:(o,a,c,h)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=es(i.infoSyncTree_,o._path,m),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Zu(i,"connected",!1),i.serverSyncTree_=new Gf({startListening:(o,a,c,h)=>(i.server_.listen(o,c,a,(p,m)=>{const g=h(p,m);Kt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function t0(i){const r=i.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ju(i){return LC({timestamp:t0(i)})}function Yf(i,t,r,o,a){i.dataUpdateCount++;const c=new ce(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let h=[];if(a)if(o){const m=yo(r,g=>Ue(g));h=RC(i.serverSyncTree_,c,m,a)}else{const m=Ue(r);h=cm(i.serverSyncTree_,c,m,a)}else if(o){const m=yo(r,g=>Ue(g));h=xC(i.serverSyncTree_,c,m)}else{const m=Ue(r);h=es(i.serverSyncTree_,c,m)}let p=c;h.length>0&&(p=Vo(i,c)),Kt(i.eventQueue_,p,h)}function Kf(i,t){Zu(i,"connected",t),t===!1&&s0(i)}function n0(i,t){pt(t,(r,o)=>{Zu(i,r,o)})}function Zu(i,t,r){const o=new ce("/.info/"+t),a=Ue(r);i.infoData_.updateSnapshot(o,a);const c=es(i.infoSyncTree_,o,a);Kt(i.eventQueue_,o,c)}function Sm(i){return i.nextWriteId_++}function r0(i,t,r){const o=PC(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(a=>{const c=Ue(a).withIndex(t._queryParams.getIndex());_u(i.serverSyncTree_,t,r,!0);let h;if(t._queryParams.loadsAllData())h=es(i.serverSyncTree_,t._path,c);else{const p=Yi(i.serverSyncTree_,t);h=cm(i.serverSyncTree_,t._path,c,p)}return Kt(i.eventQueue_,t._path,h),Oo(i.serverSyncTree_,t,r,null,!0),c},a=>(Ho(i,"get for query "+De(t)+" failed: "+a),Promise.reject(new Error(a))))}function i0(i,t,r,o,a){Ho(i,"set",{path:t.toString(),value:r,priority:o});const c=Ju(i),h=Ue(r,o),p=Bu(i.serverSyncTree_,t),m=pm(h,p,c),g=Sm(i),S=um(i.serverSyncTree_,t,m,g,!0);Xu(i.eventQueue_,S),i.server_.put(t.toString(),h.val(!0),(x,L)=>{const O=x==="ok";O||ft("set at "+t+" failed: "+x);const H=er(i.serverSyncTree_,g,!O);Kt(i.eventQueue_,t,H),u0(i,a,x,L)});const C=Tm(i,t);Vo(i,C),Kt(i.eventQueue_,C,[])}function s0(i){Ho(i,"onDisconnectEvents");const t=Ju(i),r=xo();hu(i.onDisconnect_,ae(),(a,c)=>{const h=zC(a,c,i.serverSyncTree_,t);Qp(r,a,h)});let o=[];hu(r,ae(),(a,c)=>{o=o.concat(es(i.serverSyncTree_,a,c));const h=Tm(i,a);Vo(i,h)}),i.onDisconnect_=xo(),Kt(i.eventQueue_,ae(),o)}function o0(i,t,r){let o;te(t._path)===".info"?o=_u(i.infoSyncTree_,t,r):o=_u(i.serverSyncTree_,t,r),Cm(i.eventQueue_,t._path,o)}function l0(i,t,r){let o;te(t._path)===".info"?o=Oo(i.infoSyncTree_,t,r):o=Oo(i.serverSyncTree_,t,r),Cm(i.eventQueue_,t._path,o)}function a0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(XC)}function Ho(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),et(r,...t)}function u0(i,t,r,o){t&&Wr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const h=new Error(c);h.code=a,t(h)}})}function km(i,t,r){return Bu(i.serverSyncTree_,t,r)||Q.EMPTY_NODE}function ec(i,t=i.transactionQueueTree_){if(t||$o(i,t),Hr(t)){const r=xm(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&c0(i,ns(t),r)}else gm(t)&&Wo(t,r=>{ec(i,r)})}function c0(i,t,r){const o=r.map(g=>g.currentWriteId),a=km(i,t,o);let c=a;const h=a.hash();for(let g=0;g<r.length;g++){const S=r[g];M(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const C=it(t,S.path);c=c.updateChild(C,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{Ho(i,"transaction put response",{path:m.toString(),status:g});let S=[];if(g==="ok"){const C=[];for(let x=0;x<r.length;x++)r[x].status=2,S=S.concat(er(i.serverSyncTree_,r[x].currentWriteId)),r[x].onComplete&&C.push(()=>r[x].onComplete(null,!0,r[x].currentOutputSnapshotResolved)),r[x].unwatcher();$o(i,Ku(i.transactionQueueTree_,t)),ec(i,i.transactionQueueTree_),Kt(i.eventQueue_,t,S);for(let x=0;x<C.length;x++)Wr(C[x])}else{if(g==="datastale")for(let C=0;C<r.length;C++)r[C].status===3?r[C].status=4:r[C].status=0;else{ft("transaction at "+m.toString()+" failed: "+g);for(let C=0;C<r.length;C++)r[C].status=4,r[C].abortReason=g}Vo(i,t)}},h)}function Vo(i,t){const r=Nm(i,t),o=ns(r),a=xm(i,r);return d0(i,a,o),o}function d0(i,t,r){if(t.length===0)return;const o=[];let a=[];const h=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=it(r,m.path);let S=!1,C;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,C=m.abortReason,a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=JC)S=!0,C="maxretry",a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else{const x=km(i,m.path,h);m.currentInputSnapshot=x;const L=t[p].update(x.val());if(L!==void 0){qu("transaction failed: Data returned ",L,m.path);let O=Ue(L);typeof L=="object"&&L!=null&&cn(L,".priority")||(O=O.updatePriority(x.getPriority()));const K=m.currentWriteId,Oe=Ju(i),We=pm(O,x,Oe);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=We,m.currentWriteId=Sm(i),h.splice(h.indexOf(K),1),a=a.concat(um(i.serverSyncTree_,m.path,We,m.currentWriteId,m.applyLocally)),a=a.concat(er(i.serverSyncTree_,K,!0))}else S=!0,C="nodata",a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0))}Kt(i.eventQueue_,r,a),a=[],S&&(t[p].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[p].unwatcher),t[p].onComplete&&(C==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(C),!1,null))))}$o(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Wr(o[p]);ec(i,i.transactionQueueTree_)}function Nm(i,t){let r,o=i.transactionQueueTree_;for(r=te(t);r!==null&&Hr(o)===void 0;)o=Ku(o,r),t=fe(t),r=te(t);return o}function xm(i,t){const r=[];return Im(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Im(i,t,r){const o=Hr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Wo(t,a=>{Im(i,a,r)})}function $o(i,t){const r=Hr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,mm(t,r.length>0?r:void 0)}Wo(t,o=>{$o(i,o)})}function Tm(i,t){const r=ns(Nm(i,t)),o=Ku(i.transactionQueueTree_,t);return UC(o,a=>{tu(i,a)}),tu(i,o),_m(o,a=>{tu(i,a)}),r}function tu(i,t){const r=Hr(t);if(r){const o=[];let a=[],c=-1;for(let h=0;h<r.length;h++)r[h].status===3||(r[h].status===1?(M(c===h-1,"All SENT items should be at beginning of queue."),c=h,r[h].status=3,r[h].abortReason="set"):(M(r[h].status===0,"Unexpected transaction status in abort"),r[h].unwatcher(),a=a.concat(er(i.serverSyncTree_,r[h].currentWriteId,!0)),r[h].onComplete&&o.push(r[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?mm(t,void 0):r.length=c+1,Kt(i.eventQueue_,ns(t),a);for(let h=0;h<o.length;h++)Wr(o[h])}}function h0(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function f0(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ft(`Invalid query segment '${r}' in query '${i}'`)}return t}const qf=function(i,t){const r=p0(i),o=r.namespace;r.domain==="firebase.com"&&un(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Ny();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Tp(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new ce(r.pathString)}},p0=function(i){let t="",r="",o="",a="",c="",h=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let S=i.indexOf("/");S===-1&&(S=i.length);let C=i.indexOf("?");C===-1&&(C=i.length),t=i.substring(0,Math.min(S,C)),S<C&&(a=h0(i.substring(S,C)));const x=f0(i.substring(Math.min(i.length,C)));g=t.indexOf(":"),g>=0?(h=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const L=t.slice(0,g);if(L.toLowerCase()==="localhost")r="localhost";else if(L.split(".").length<=2)r=L;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),r=t.substring(O+1),c=o}"ns"in x&&(c=x.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:h,scheme:p,pathString:a,namespace:c}};class m0{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}}class g0{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Rm{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class tc{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return re(this._path)?null:jp(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const t=Lf(this._queryParams),r=xu(t);return r==="{}"?"default":r}get _queryObject(){return Lf(this._queryParams)}isEqual(t){if(t=Ur(t),!(t instanceof tc))return!1;const r=this._repo===t._repo,o=Pu(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+aw(this._path)}}class dn extends tc{constructor(t,r){super(t,r,new Ou,!1)}get parent(){const t=bp(this._path);return t===null?null:new dn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ki{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ce(t),o=yu(this.ref,t);return new Ki(this._node.getChild(r),o,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Ki(a,yu(this.ref,o),Se)))}hasChild(t){const r=new ce(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _0(i,t){return i=Ur(i),i._checkNotDeleted("ref"),t!==void 0?yu(i._root,t):i._root}function yu(i,t){return i=Ur(i),te(i._path)===null?GC("child","path",t):wm("child","path",t),new dn(i._repo,Ae(i._path,t))}function Be(i,t){i=Ur(i),QC("set",i._path),$C("set",t,i._path);const r=new Lo;return i0(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function Ye(i){i=Ur(i);const t=new Rm(()=>{}),r=new Go(t);return r0(i._repo,i,r).then(o=>new Ki(o,new dn(i._repo,i._path),i._queryParams.getIndex()))}class Go{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new m0("value",this,new Ki(t.snapshotNode,new dn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new g0(this,t,r):null}matches(t){return t instanceof Go?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function v0(i,t,r,o,a){const c=new Rm(r,void 0),h=new Go(c);return o0(i._repo,i,h),()=>l0(i._repo,i,h)}function y0(i,t,r,o){return v0(i,"value",t)}vC(dn);SC(dn);const w0="FIREBASE_DATABASE_EMULATOR_HOST",wu={};let C0=!1;function E0(i,t,r,o){i.repoInfo_=new Tp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function S0(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let h=qf(c,a),p=h.repoInfo,m;typeof process<"u"&&_f&&(m=_f[w0]),m?(c=`http://${m}?ns=${p.namespace}`,h=qf(c,a),p=h.repoInfo):h.repoInfo.secure;const g=new Fy(i.name,i.options,t);YC("Invalid Firebase Database URL",h),re(h.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const S=N0(p,i,g,new Ly(i.name,r));return new x0(S,i)}function k0(i,t){const r=wu[t];(!r||r[i.key]!==i)&&un(`Database ${t}(${i.repoInfo_}) has already been deleted.`),a0(i),delete r[i.key]}function N0(i,t,r,o){let a=wu[t.name];a||(a={},wu[t.name]=a);let c=a[i.toURLString()];return c&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ZC(i,C0,r,o),a[i.toURLString()]=c,c}class x0{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(e0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(k0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&un("Cannot call "+t+" on a deleted database.")}}function I0(i=ly(),t){const r=ry(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=G_("database");o&&T0(r,...o)}return r}function T0(i,t,r,o={}){i=Ur(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new _o(_o.OWNER);else if(o.mockUserToken){const h=typeof o.mockUserToken=="string"?o.mockUserToken:Q_(o.mockUserToken,i.app.options.projectId);c=new _o(h)}E0(a,t,r,c)}function R0(i){yy(oy),Co(new Ui("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return S0(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Ar(vf,yf,i),Ar(vf,yf,"esm2017")}ln.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};ln.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};R0();const P0=[{type:"Action",title:"skullduggery",description:"gain 2 gold",count:4},{type:"Action",title:"hard labour",cost:"2 damage",description:"gain 3 gold",count:4},{type:"Action",title:"meditation",description:"gain 3 mana",count:4},{type:"Action",title:"mugging",description:"fight another player, winner takes 4 gold from loser, loser takes 2 damage",count:2},{type:"Action",title:"duel",description:"fight another player, loser takes 4 damage",count:2},{type:"Action",title:"lay low",description:"Reaction: ignore the effects of an action card played by another player",count:2},{type:"Action",title:"sneaky stab",description:"Reaction: add 2 to strength",count:4},{type:"Action",title:"scout",description:"discard up to 2 adventures from the row and replace them",count:3},{type:"Action",title:"maintenance",description:"discard all damage markers from 1 weapon",count:3},{type:"Action",title:"scavenging",description:"take a card from the discard pile",count:2},{type:"Action",title:"sabotage",description:"Reaction: play at the start of another players turn; they cannot claim adventures this turn",count:2},{type:"Item",title:"rogue's cowl",cost:"7 Gold",description:"draw an extra card at start of turn",count:1},{type:"Item",title:"Thief's tools",cost:"6 Gold",description:"once per turn after you play an action card (not a reaction), return it to your hand",count:1},{type:"Item",title:"wizard's robe",cost:"5 Gold",description:"you may gain 1 mana at start of turn",count:1},{type:"Item",title:"looking glass",cost:"1 Gold",description:"on your turn you may look at the top card of the adventure deck",count:1},{type:"Item",title:"berserker pelts",cost:"4 Gold",description:"your strength is doubled. damage you take is doubled",count:1},{type:"Item",title:"magic crystal",cost:"2 Gold",description:"+2 max mana",count:2},{type:"Item",title:"arcane amulet",cost:"7 Gold",description:"+4 max mana",count:2},{type:"Item",title:"belt of strength",cost:"2 Gold",description:"+1 strength",count:2},{type:"Item",title:"leather jerkin",cost:"2 Gold",description:"+3 max hp",count:2},{type:"Item",title:"full plate",cost:"6 Gold",description:"+7 max hp",count:2},{type:"Item",title:"crown of nobility",cost:"25 Gold",description:"7 Victory Points. Cannot be played for free",count:1},{type:"Item",title:"potion of rejuvination",cost:"4 Gold",description:"if you would die, discard damage equal to half your max hp (rounded down) instead, and discard this item",count:2},{type:"Item - Weapon",title:"dagger",cost:"2 Gold",description:"3 strength",durability:2,count:3},{type:"Item - Weapon",title:"masterwork dagger",cost:"3 Gold",description:"3 strength",durability:4,count:1},{type:"Item - Weapon",title:"sword",cost:"4 Gold",description:"5 strength",durability:2,count:2},{type:"Item - Weapon",title:"great axe",cost:"5 Gold",description:"8 strength, double handed",durability:2,count:2},{type:"Item - Weapon",title:"battle axe",cost:"6 Gold",description:"7 strength",durability:2,count:2},{type:"Item - Weapon",title:"bastard sword",cost:"8 Gold",description:"9 strength",durability:2,count:2},{type:"Item - Weapon",title:"world slayer",cost:"10 Gold",description:"12 strength",durability:2,count:1},{type:"Spell",title:"fireball",cost:"3 Mana",description:"add 6 to strength",count:3},{type:"Spell",title:"counterspell",cost:"3 Mana",description:"Reaction: counter a spell or scroll",count:2},{type:"Spell",title:"turn to rust",cost:"3 Mana",description:"destroy a weapon that has at least 1 damage on it",count:2},{type:"Spell",title:"zap",cost:"4 Mana",description:"deal 3 damage to a player",count:2},{type:"Spell",title:"divination",cost:"3 Mana",description:"draw 3 cards",count:2},{type:"Spell",title:"animate dead",cost:"4 Mana",description:"take up to 2 cards from the discard pile",count:2},{type:"Spell",title:"destruction",cost:"X Mana",description:"destroy an item. mana costs is equal to the target's gold cost",count:2},{type:"Spell",title:"reincarnation",cost:"5 Mana",description:"Reaction: play when you die. remove all damage and ignore all usual effects of death",count:1},{type:"Spell",title:"god mode",cost:"6 Mana",description:"claim any adventure without comparing strength or paying it's costs",count:1},{type:"Spell",title:"power word: death",cost:"8 Mana",description:"deal damage to a player equal to their maximum hp. this spell cannot be countered",count:1},{type:"Spell - Scroll",title:"cone of frost",cost:"2 Mana",description:"Reaction: add 2 to strength",count:2},{type:"Spell - Scroll",title:"life drain",cost:"2 Mana",description:"deal 1 damage to another player and remove 1 damage from yourself",count:2},{type:"Spell - Scroll",title:"healing hands",cost:"2 Mana",description:"remove 3 damage",count:2},{type:"Spell - Scroll",title:"transmute",cost:"2 Mana",description:"discard an item from hand to receive gold equal to half it's cost (rounded down), or discard an item from your inventory for it's full cost",count:2},{type:"Spell - Scroll",title:"prismatic ray",cost:"4 Mana",description:"Reaction: add 4 to strength",count:2},{title:"Shuffle",description:"shuffle the discard pile (along with this card) into the main deck, then draw a card to replace this one",count:1}],D0=[{type:"Adventure",title:"An Audience with the King",cost:"15 Gold, Discard 3 cards",description:"6 Victory Point",count:1},{type:"Adventure",title:"Arcane Library",cost:"Discard 2 cards",description:"1 Victory Point, Draw 2 Cards, 5 Mana",count:3},{type:"Adventure",title:"labyrinth",cost:"3 Strength, Discard 6 cards",description:"3 Victory Points, play 1 item from hand for free",count:2},{type:"Adventure",title:"journey through the enchanted forest",cost:"4 Strength",description:"1 Victory Points, 2g, 3m",count:3},{type:"Adventure",title:"goblin nest",cost:"3 Strength",description:"1 Victory Points, 3 Gold",count:3},{type:"Adventure",title:"abandoned town",cost:"3 Strength",description:"1 Victory Points, 1 Gold, draw 2 cards",count:3},{type:"Adventure",title:"orc camp",cost:"4 Strength",description:"2 Victory Points, 3 Gold",count:3},{type:"Adventure",title:"troll cave",cost:"5 Strength",description:"2 Victory Points, 5 Gold",count:2},{type:"Adventure",title:"undead tomb",cost:"5 Strength",description:"take 1 damage, 2 Victory Points, 2 Gold, take 1 card from discard pile",count:2},{type:"Adventure",title:"ogre mound",cost:"6 Strength",description:"2 Victory Points, 6 Gold",count:2},{type:"Adventure",title:"witch's lair",cost:"6 Strength",description:"take 2 damage, 3 Victory Points, 3 Gold, 6 Mana",count:1},{type:"Adventure",title:"mage's tower",cost:"7 Strength, 3 Mana",description:"3 Victory Points, draw 3 cards",count:1},{type:"Adventure",title:"battle the lich",cost:"9 Strength, 2 Mana, 3 Damage",description:"5 Victory Points, take 2 cards from discard pile",count:1},{type:"Adventure",title:"dragon hoard",cost:"12 Strength",description:"7 Victory Points, 12 Gold",count:1},{type:"Adventure",title:"battle of the 12 clans",cost:"7 Strength",description:"3 Victory Points, 3 Gold, all other players take 2 damage",count:1}],Xf=[{type:"Character",title:"Warrior",stats:`Strength: 4
Max Health: 16
Mana: 0`,ability:"You take -1 damage from enemy spells and actions",count:1},{type:"Character",title:"Rogue",stats:`Strength: 2
Max Health: 9
Mana: 2`,ability:"You may perform 3 actions per turn",count:1},{type:"Character",title:"Wizard",stats:`Strength: 1
Max Health: 7
Mana: 3`,ability:"The first time you play a spell (not a reaction) each turn, draw a card",count:1},{type:"Character",title:"Fighter",stats:`Strength: 3
Max Health: 12
Mana: 1`,ability:"+3 Strength when using 2 weapons at once",count:1},{type:"Character",title:"Arcanist",stats:`Strength: 1
Max Health: 8
Mana: 4`,ability:"you only have to discard mana down to your limit (and suffer mana burn) at the end of your turn",count:1},{type:"Character",title:"Ranger",stats:`Strength: 1
Max Health: 8
Mana: 3`,ability:"All your weapons have +1 durability",count:1}];function A0(){const i=[];return P0.forEach((t,r)=>{for(let o=0;o<t.count;o++)i.push({...t,id:`card-${r}-${o}-${Date.now()}`})}),i}function M0(){const i=[];return D0.forEach((t,r)=>{for(let o=0;o<t.count;o++)i.push({...t,id:`card-${r}-${o}-${Date.now()}`})}),i}function Cu(i){const t=[...i];for(let r=t.length-1;r>0;r--){const o=Math.floor(Math.random()*(r+1));[t[r],t[o]]=[t[o],t[r]]}return t}function O0(){const i=Math.floor(Math.random()*Xf.length);return{...Xf[i],id:`character-${i}-${Date.now()}`}}const L0={apiKey:"AIzaSyAm8uZMkpR9mNsWetQ4Amn9oskeLn2YFUk",authDomain:"gametester-36468.firebaseapp.com",databaseURL:"https://gametester-36468-default-rtdb.europe-west1.firebasedatabase.app",projectId:"gametester-36468",storageBucket:"gametester-36468.firebasestorage.app",messagingSenderId:"40537010714",appId:"1:40537010714:web:68c8c0e0a573ebcc6817a3"},F0=cp(L0),j0=I0(F0),z0="game1";function Me(){return _0(j0,`games/${z0}`)}function b0(i){const t=Me();return y0(t,o=>{i(o.val())})}async function U0(){const i=Cu(A0()),t=Cu(M0()),r={deck:i,hands:{player1:[],player2:[]},inventories:{player1:[],player2:[]},characters:{player1:null,player2:null},currentCard:null,discardPile:[],adventureDeck:t,adventureRow:[],adventurePiles:{player1:[],player2:[]},resources:{player1:{damage:0,gold:0,mana:0},player2:{damage:0,gold:0,mana:0}},cardDamage:{},currentTurn:"player1"};await Be(Me(),r)}async function B0(i,t,r){const o=Me(),c=(await Ye(o)).val();if(!c)return;const h=c.resources?.[i]?.[t]??0,p=Math.max(0,h+r);await Be(o,{...c,resources:{...c.resources,[i]:{...c.resources?.[i],[t]:p}}})}async function W0(i){const t=Me(),o=(await Ye(t)).val();if(!o||o.deck.length===0)return;const[a,...c]=o.deck,h=[...o.hands?.[i]||[],a];await Be(t,{...o,deck:c,hands:{...o.hands,[i]:h}})}async function H0(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.hands?.[i]||[],h=c.findIndex(C=>C.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=a.discardPile||[],S=a.currentCard?[...g,a.currentCard]:g;await Be(r,{...a,hands:{...a.hands,[i]:m},currentCard:p,discardPile:S})}async function V0(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.discardPile||[],h=c.findIndex(S=>S.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=[...a.hands?.[i]||[],p];await Be(r,{...a,hands:{...a.hands,[i]:g},discardPile:m})}async function $0(i){const t=Me(),o=(await Ye(t)).val();if(!o||!o.currentCard)return;const a=[...o.hands?.[i]||[],o.currentCard];await Be(t,{...o,hands:{...o.hands,[i]:a},currentCard:null})}async function Pm(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.hands?.[i]||[],h=c.findIndex(S=>S.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=[...a.discardPile||[],p];await Be(r,{...a,hands:{...a.hands,[i]:m},discardPile:g})}async function G0(){const i=Me(),r=(await Ye(i)).val();if(!r||!r.currentCard)return;const o=[...r.discardPile||[],r.currentCard];await Be(i,{...r,currentCard:null,discardPile:o})}async function Q0(){const i=Me(),r=(await Ye(i)).val();if(!r||!r.adventureDeck||r.adventureDeck.length===0)return;const[o,...a]=r.adventureDeck,c=[...r.adventureRow||[],o];await Be(i,{...r,adventureDeck:a,adventureRow:c})}async function Y0(i){const t=Me(),o=(await Ye(t)).val();if(!o||!o.adventureRow||o.adventureRow.length<=0)return;const a=o.adventureRow.findIndex(m=>m.id===i);if(a===-1)return;const[c]=o.adventureRow.splice(a,1),h=[...o.adventureRow],p=[...o.adventureDeck||[],c];await Be(t,{...o,adventureRow:h,adventureDeck:p})}async function K0(i,t){const r=Me(),a=(await Ye(r)).val();if(!a||!a.adventurePiles[i]||a.adventurePiles[i].length<=0)return;const c=a.adventurePiles[i].findIndex(g=>g.id===t);if(c===-1)return;const[h]=a.adventurePiles[i].splice(c,1),p=[...a.adventurePiles[i]],m=[...a.adventureDeck||[],h];await Be(r,{...a,adventureDeck:m,adventurePiles:{...a.adventurePiles||{},[i]:p}})}async function q0(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.adventureRow||[],h=c.findIndex(S=>S.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=[...a.adventurePiles?.[i]||[],p];await Be(r,{...a,adventureRow:m,adventurePiles:{...a.adventurePiles,[i]:g}})}async function X0(){const i=Me(),r=(await Ye(i)).val();if(!r)return;const o=r.discardPile||[];if(o.length===0)return;const a=r.deck||[],c=Cu([...a,...o]);await Be(i,{...r,deck:c,discardPile:[]})}async function J0(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.hands?.[i]||[],h=c.findIndex(S=>S.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=[...a.inventories?.[i]||[],p];await Be(r,{...a,hands:{...a.hands,[i]:m},inventories:{...a.inventories,[i]:g}})}async function Dm(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.inventories?.[i]||[],h=c.findIndex(S=>S.id===t);if(h===-1)return;const[p]=c.splice(h,1),m=[...c],g=[...a.discardPile||[],p];await Be(r,{...a,inventories:{...a.inventories,[i]:m},discardPile:g})}async function Z0(i){const t=Me(),o=(await Ye(t)).val();if(!o)return;const a=O0();await Be(t,{...o,characters:{...o.characters,[i]:a}})}async function eE(i,t){const r=Me(),a=(await Ye(r)).val();if(!a)return;const c=a.cardDamage?.[i]??0,h=Math.max(0,c+t);await Be(r,{...a,cardDamage:{...a.cardDamage,[i]:h}})}async function tE(){const i=Me(),r=(await Ye(i)).val();if(!r)return;const o=r.currentTurn==="player1"?"player2":"player1";await Be(i,{...r,currentTurn:o})}function bt({card:i,onPlay:t,onTake:r,onDiscard:o,onMoveToInventory:a,cardDamage:c}){const h=c?.[i.id]??0,p=m=>{eE(i.id,m)};return y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("span",{className:"card-title",children:i.title}),i.type&&y.jsx("span",{className:"card-type",children:i.type})]}),i.cost&&y.jsx("div",{className:"card-cost-container",children:y.jsx("span",{className:"card-cost",children:i.cost})}),y.jsx("div",{className:"card-description",children:i.description}),i.durability&&y.jsxs("div",{className:"card-durability",children:[y.jsx("span",{className:"durability-label",children:"Durability:"}),y.jsxs("div",{className:"durability-tracker",children:[y.jsx("button",{className:"durability-btn",onClick:()=>p(-1),disabled:h<=0,children:"-"}),y.jsxs("span",{className:"durability-value",children:[y.jsx("span",{className:h>0?"damage-taken":"",children:h}),y.jsx("span",{className:"durability-separator",children:"/"}),y.jsx("span",{children:i.durability})]}),y.jsx("button",{className:"durability-btn",onClick:()=>p(1),children:"+"})]})]}),y.jsxs("div",{className:"card-actions",children:[t&&y.jsx("button",{className:"play-button",onClick:t,children:"Play"}),r&&y.jsx("button",{className:"take-button",onClick:r,children:"Take"}),a&&y.jsx("button",{className:"inventory-button",onClick:a,children:"To Inventory"}),o&&y.jsx("button",{className:"discard-button",onClick:o,children:"Discard"})]})]})}function nE({playerId:i,cards:t,deckEmpty:r,resources:o,cardDamage:a}){const c=i==="player1"?"Player 1":"Player 2",h=()=>{W0(i)},p=O=>{H0(i,O)},m=O=>{Pm(i,O)},g=O=>{J0(i,O)},S=(O,H)=>{B0(i,O,H)},C=o?.damage??0,x=o?.gold??0,L=o?.mana??0;return y.jsxs("div",{className:"hand",children:[y.jsxs("div",{className:"hand-header",children:[y.jsxs("div",{className:"hand-title",children:[y.jsxs("h2",{children:[c,"'s Hand"]}),y.jsxs("span",{className:"card-count",children:["(",t.length," cards)"]})]}),y.jsxs("div",{className:"resources",children:[y.jsxs("div",{className:"resource damage-resource",children:[y.jsx("button",{className:"resource-btn",onClick:()=>S("damage",-1),children:"-"}),y.jsx("span",{className:"resource-value",children:C}),y.jsx("button",{className:"resource-btn",onClick:()=>S("damage",1),children:"+"}),y.jsx("span",{className:"resource-label",children:"Damage"})]}),y.jsxs("div",{className:"resource gold-resource",children:[y.jsx("button",{className:"resource-btn",onClick:()=>S("gold",-1),children:"-"}),y.jsx("span",{className:"resource-value",children:x}),y.jsx("button",{className:"resource-btn",onClick:()=>S("gold",1),children:"+"}),y.jsx("span",{className:"resource-label",children:"Gold"})]}),y.jsxs("div",{className:"resource mana-resource",children:[y.jsx("button",{className:"resource-btn",onClick:()=>S("mana",-1),children:"-"}),y.jsx("span",{className:"resource-value",children:L}),y.jsx("button",{className:"resource-btn",onClick:()=>S("mana",1),children:"+"}),y.jsx("span",{className:"resource-label",children:"Mana"})]})]})]}),y.jsx("button",{className:"draw-button",onClick:h,disabled:r,children:"Draw Card"}),y.jsx("div",{className:"cards-container",children:t.length===0?y.jsx("p",{className:"empty-hand",children:"No cards in hand"}):t.map(O=>y.jsx(bt,{card:O,cardDamage:a,onPlay:()=>p(O.id),onDiscard:()=>m(O.id),onMoveToInventory:()=>g(O.id)},O.id))})]})}function rE({playerId:i,cards:t,cardDamage:r}){const o=i==="player1"?"Player 1":"Player 2",a=c=>{Dm(i,c)};return y.jsxs("div",{className:"inventory",children:[y.jsx("div",{className:"inventory-header",children:y.jsxs("div",{className:"inventory-title",children:[y.jsxs("h2",{children:[o,"'s Inventory"]}),y.jsxs("span",{className:"card-count",children:["(",t.length," cards)"]})]})}),y.jsx("div",{className:"cards-container",children:t.length===0?y.jsx("p",{className:"empty-hand",children:"No cards in inventory"}):t.map(c=>y.jsx(bt,{card:c,cardDamage:r,onDiscard:()=>a(c.id)},c.id))})]})}function iE({playerId:i,character:t}){const r=()=>{Z0(i)};return t?y.jsxs("div",{className:"character-section",children:[y.jsx("h3",{children:"Character"}),y.jsxs("div",{className:"character-card",children:[y.jsx("div",{className:"character-title",children:t.title}),y.jsx("div",{className:"character-stats",children:t.stats.split(`
`).map((o,a)=>y.jsx("div",{children:o},a))}),y.jsxs("div",{className:"character-ability",children:[y.jsx("span",{className:"ability-label",children:"Ability:"})," ",t.ability]})]}),y.jsx("button",{className:"draw-character-btn",onClick:r,children:"Reroll Character"})]}):y.jsxs("div",{className:"character-section",children:[y.jsx("h3",{children:"Character"}),y.jsxs("div",{className:"no-character",children:[y.jsx("p",{children:"No character selected"}),y.jsx("button",{className:"draw-character-btn",onClick:r,children:"Draw Random Character"})]})]})}function sE({cards:i,onTakeCard:t,onClose:r,cardDamage:o}){const a=c=>{c.target===c.currentTarget&&r()};return y.jsx("div",{className:"modal-backdrop",onClick:a,children:y.jsxs("div",{className:"modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("h2",{children:["Discard Pile (",i.length," cards)"]}),y.jsx("button",{className:"modal-close",onClick:r,children:""})]}),y.jsx("div",{className:"modal-content",children:i.length===0?y.jsx("p",{className:"empty-modal",children:"No cards in discard pile"}):y.jsx("div",{className:"modal-cards",children:i.map(c=>y.jsx(bt,{card:c,cardDamage:o,onTake:()=>t(c.id)},c.id))})})]})})}function oE({cards:i,onClose:t,playerId:r,cardDamage:o}){const a=h=>{h.target===h.currentTarget&&t()},c=h=>{K0(r,h)};return y.jsx("div",{className:"modal-backdrop",onClick:a,children:y.jsxs("div",{className:"modal adventure-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("h2",{children:["Your Adventures (",i.length," cards)"]}),y.jsx("button",{className:"modal-close",onClick:t,children:""})]}),y.jsx("div",{className:"modal-content",children:i.length===0?y.jsx("p",{className:"empty-modal",children:"No adventures taken yet"}):y.jsx("div",{className:"modal-cards",children:i.map(h=>y.jsx(bt,{card:h,cardDamage:o,onDiscard:()=>c(h.id)},h.id))})})]})})}function lE({cards:i,opponentId:t,onClose:r,cardDamage:o}){const a=c=>{Pm(t,c)};return y.jsx("div",{className:"modal-backdrop",onClick:r,children:y.jsxs("div",{className:"modal",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("h2",{children:["Opponent's Hand (",i.length,")"]}),y.jsx("button",{className:"modal-close",onClick:r,children:""})]}),y.jsx("div",{className:"modal-content",children:i.length===0?y.jsx("p",{className:"empty-modal",children:"No cards in opponent's hand"}):y.jsx("div",{className:"modal-cards",children:i.map(c=>y.jsx(bt,{card:c,cardDamage:o,onDiscard:()=>a(c.id)},c.id))})})]})})}function aE({cards:i,opponentId:t,onClose:r,cardDamage:o}){const a=c=>{Dm(t,c)};return y.jsx("div",{className:"modal-backdrop",onClick:r,children:y.jsxs("div",{className:"modal",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("h2",{children:["Opponent's Inventory (",i.length,")"]}),y.jsx("button",{className:"modal-close",onClick:r,children:""})]}),y.jsx("div",{className:"modal-content",children:i.length===0?y.jsx("p",{className:"empty-modal",children:"No cards in opponent's inventory"}):y.jsx("div",{className:"modal-cards",children:i.map(c=>y.jsx(bt,{card:c,cardDamage:o,onDiscard:()=>a(c.id)},c.id))})})]})})}function uE({character:i,onClose:t}){return y.jsx("div",{className:"modal-backdrop",onClick:t,children:y.jsxs("div",{className:"modal character-modal",onClick:r=>r.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:"Opponent's Character"}),y.jsx("button",{className:"modal-close",onClick:t,children:""})]}),y.jsx("div",{className:"modal-content",children:i?y.jsxs("div",{className:"character-card modal-character",children:[y.jsx("div",{className:"character-title",children:i.title}),y.jsx("div",{className:"character-stats",children:i.stats.split(`
`).map((r,o)=>y.jsx("div",{children:r},o))}),y.jsxs("div",{className:"character-ability",children:[y.jsx("span",{className:"ability-label",children:"Ability:"})," ",i.ability]})]}):y.jsx("p",{className:"empty-modal",children:"Opponent has no character selected"})})]})})}function cE({gameState:i,playerId:t,opponentId:r}){const[o,a]=Rt.useState(!1),[c,h]=Rt.useState(!1),[p,m]=Rt.useState(!1),[g,S]=Rt.useState(!1),[C,x]=Rt.useState(!1),[L,O]=Rt.useState(!1),H=()=>{U0()},K=X=>{V0(t,X)},Oe=()=>{$0(t)},We=()=>{G0()},He=()=>{Q0()},xe=X=>{q0(t,X)},mt=X=>{Y0(X)},Ve=()=>{X0()},Ke=()=>{tE()},tt=i?.deck?.length??0,Ht=tt===0,Pt=i?.hands?.[t]||[],qt=i?.inventories?.[t]||[],gt=i?.currentCard||null,Ie=i?.discardPile||[],st=i?.adventureDeck?.length??0,_t=st===0,$e=i?.adventureDeck?.[0]||null,pe=i?.adventureRow||[],F=i?.adventurePiles?.[t]||[],G=i?.resources?.[t]||{damage:0,gold:0,mana:0},z=i?.resources?.[r]||{damage:0,gold:0,mana:0},E=i?.hands?.[r]||[],T=i?.inventories?.[r]||[],J=i?.characters?.[t]||null,Z=i?.characters?.[r]||null,q=i?.cardDamage||{},oe=(i?.currentTurn||"player1")===t;return y.jsxs("div",{className:"game-board",children:[y.jsxs("div",{className:"game-controls",children:[y.jsx("button",{className:"new-game-button",onClick:H,children:"New Game"}),y.jsxs("div",{className:"deck-info",children:[y.jsx("span",{className:"deck-label",children:"Deck:"}),y.jsxs("span",{className:"deck-count",children:[tt," cards remaining"]})]}),y.jsxs("div",{className:"deck-info",children:[y.jsx("span",{className:"deck-label",children:"Adventure Deck:"}),y.jsxs("span",{className:"deck-count",children:[st," cards remaining"]})]})]}),i?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"play-area",children:[y.jsxs("div",{className:"adventure-section",children:[y.jsxs("div",{className:"adventure-header",children:[y.jsx("h3",{children:"Adventure Row"}),y.jsxs("div",{className:"adventure-buttons",children:[y.jsx("button",{className:"peek-adventure-button",onClick:()=>O(!0),disabled:_t,children:"Peek Top Card"}),y.jsx("button",{className:"draw-adventure-button",onClick:He,disabled:_t,children:"Draw Adventure Card"})]})]}),y.jsx("div",{className:"adventure-row",children:pe.length===0?y.jsx("div",{className:"empty-slot",children:"No adventure cards available"}):pe.map(X=>y.jsx(bt,{card:X,cardDamage:q,onTake:()=>xe(X.id),onDiscard:()=>mt(X.id)},X.id))})]}),y.jsxs("div",{className:"current-card-area",children:[y.jsx("h3",{children:"Current Card"}),gt?y.jsx(bt,{card:gt,cardDamage:q,onTake:Oe,onDiscard:We}):y.jsx("div",{className:"empty-slot",children:"No card played"})]}),y.jsxs("div",{className:"discard-pile-area",children:[y.jsxs("div",{className:"clickable",onClick:()=>a(!0),children:[y.jsxs("h3",{children:["Discard Pile (",Ie.length,")"]}),Ie.length>0?y.jsx(bt,{card:Ie[Ie.length-1],cardDamage:q}):y.jsx("div",{className:"empty-slot",children:"Empty"}),y.jsx("p",{className:"click-hint",children:"Click to view all"})]}),y.jsx("button",{className:"shuffle-discard-button",onClick:Ve,disabled:Ie.length===0,children:"Shuffle into Deck"})]})]}),y.jsxs("div",{className:`global-statistics${oe?"":" highlighted"}`,children:[y.jsxs("div",{className:"opponent",children:[y.jsx("span",{className:"opponent-label",children:"Opponent:"}),y.jsx("button",{className:"opponent-view-btn character-btn",onClick:()=>x(!0),children:Z?Z.title:"No Character"}),y.jsxs("button",{className:"opponent-view-btn",onClick:()=>m(!0),children:["Hand: ",E.length]}),y.jsxs("span",{className:"opponent-stat damage-stat",children:["Damage: ",z.damage]}),y.jsxs("span",{className:"opponent-stat gold-stat",children:["Gold: ",z.gold]}),y.jsxs("span",{className:"opponent-stat mana-stat",children:["Mana: ",z.mana]}),y.jsxs("span",{className:"opponent-stat",children:["Adventures: ",i?.adventurePiles?.[r]?.length||0]}),y.jsxs("button",{className:"opponent-view-btn inventory-stat",onClick:()=>S(!0),children:["Inventory: ",T.length]})]}),y.jsxs("div",{className:"turn-indicator",children:[y.jsx("span",{className:`turn-status ${oe?"my-turn":"opponent-turn"}`,children:oe?"Your Turn":"Opponent's Turn"}),oe&&y.jsx("button",{className:"end-turn-button",onClick:Ke,children:"End Turn"})]})]}),y.jsx("div",{className:`player-section${oe?" highlighted":""}`,children:y.jsx(nE,{playerId:t,cards:Pt,deckEmpty:Ht,resources:G,cardDamage:q})}),y.jsxs("div",{className:"inventory-section",children:[y.jsx(iE,{playerId:t,character:J}),y.jsx(rE,{playerId:t,cards:qt,cardDamage:q}),y.jsxs("div",{className:"adventure-pile-area clickable",onClick:()=>h(!0),children:[y.jsxs("h3",{children:["Your Adventures (",F.length,")"]}),F.length>0?y.jsx(bt,{card:F[F.length-1],cardDamage:q}):y.jsx("div",{className:"empty-slot",children:"No adventures taken"}),y.jsx("p",{className:"click-hint",children:"Click to view all"})]})]})]}):y.jsx("div",{className:"no-game",children:y.jsx("p",{children:'No game in progress. Click "New Game" to start!'})}),o&&y.jsx(sE,{cards:Ie,onTakeCard:K,onClose:()=>a(!1),cardDamage:q}),c&&y.jsx(oE,{cards:F,onClose:()=>h(!1),playerId:t,cardDamage:q}),p&&y.jsx(lE,{cards:E,opponentId:r,onClose:()=>m(!1),cardDamage:q}),g&&y.jsx(aE,{cards:T,opponentId:r,onClose:()=>S(!1),cardDamage:q}),C&&y.jsx(uE,{character:Z,onClose:()=>x(!1)}),L&&y.jsx("div",{className:"modal-backdrop",onClick:()=>O(!1),children:y.jsxs("div",{className:"modal peek-modal",onClick:X=>X.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:"Top of Adventure Deck"}),y.jsx("button",{className:"modal-close",onClick:()=>O(!1),children:""})]}),y.jsx("div",{className:"modal-content",children:$e?y.jsx(bt,{card:$e,cardDamage:q}):y.jsx("p",{className:"empty-modal",children:"Adventure deck is empty"})})]})})]})}function dE({onSelect:i,onSelectOpponent:t}){return y.jsxs("div",{className:"player-select",children:[y.jsx("h2",{children:"Select Your Player"}),y.jsxs("div",{className:"player-buttons",children:[y.jsx("button",{className:"player-select-btn",onClick:()=>{i("player1"),t("player2")},children:"Player 1"}),y.jsx("button",{className:"player-select-btn",onClick:()=>{i("player2"),t("player1")},children:"Player 2"})]})]})}function hE(){const[i,t]=Rt.useState(null),[r,o]=Rt.useState(!0),[a,c]=Rt.useState(null),[h,p]=Rt.useState(null);return Rt.useEffect(()=>{const m=b0(g=>{t(g),o(!1)});return()=>m()},[]),r?y.jsx("div",{className:"app",children:y.jsx("div",{className:"loading",children:"Connecting to game..."})}):a?y.jsxs("div",{className:"app",children:[y.jsxs("header",{className:"app-header",children:[y.jsx("h1",{children:"Card Game Tester"}),y.jsxs("div",{className:"player-info",children:["Playing as: ",a==="player1"?"Player 1":"Player 2",y.jsx("button",{className:"change-player-btn",onClick:()=>c(null),children:"Change"})]})]}),y.jsx("main",{children:y.jsx(cE,{gameState:i,playerId:a,opponentId:h})})]}):y.jsxs("div",{className:"app",children:[y.jsx("header",{className:"app-header",children:y.jsx("h1",{children:"Card Game Tester"})}),y.jsx("main",{children:y.jsx(dE,{onSelect:c,onSelectOpponent:p})})]})}F_.createRoot(document.getElementById("root")).render(y.jsx(Rt.StrictMode,{children:y.jsx(hE,{})}));
